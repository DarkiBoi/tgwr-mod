focus_tree = {
    id = spain_focus
    continuous_focus_position = { x = 200    y = 2500 } 
    country = {
        factor = 0
        modifier = {
            add = 10
            tag = SPR
        }
    }
    focus = {
        id = SPR_1910_General_Election
        icon = GFX_focus_fate_of_royal_family
        x = 80
        y = 1
        cost = 1
        search_filters = {
            FOCUS_FILTER_POLITICAL
        }
        available = {
            has_country_flag = ninteen_ten_election
        }
        ai_will_do = {
            factor = 100
        }
        bypass = {
            date > 1910.12.31
        }
        completion_reward = {
        }
    }
    focus = {
        id = SPR_the_spanish_armed_forces
        icon  = GFX_focus_marmara_artillery
        x = 10
        y = 1
        cost = 1
        search_filters = {
            FOCUS_FILTER_MILLITARY
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            #Placeholder
            army_experience = 20
            navy_experience = 20
            air_experience = 20
        }
    }
    focus = {
        id = SPR_the_spanish_navy
        icon = GFX_focus_generic_destroyer
        x = 3
        y = 3
        cost = 1
        prerequisite = {
            focus = SPR_the_spanish_armed_forces
        }
        search_filters = {
            FOCUS_FILTER_MILLITARY
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            #Placeholder
            navy_experience = 20
            country_event = {
                id = ww1_spain.4
            }
        }
    }
    focus = {
        id = SPR_the_spanish_army
        icon = GFX_focus_chi_army_reform
        x = 17
        y = 3
        cost = 1
        prerequisite = {
            focus = SPR_the_spanish_armed_forces
        }
        search_filters = {
            FOCUS_FILTER_MILLITARY
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            army_experience = 20
            country_event = {
                id = ww1_spain.5
            }
        }
    }
    focus = {
        id = SPR_the_spanish_airforce
        icon = GFX_focus_generic_aircraft_production
        x = 10
        y = 3
        cost = 1
        prerequisite = {
            focus = SPR_the_spanish_armed_forces
        }
        available = {
            has_country_flag = spanish_airforce_founded
        }
        search_filters = {
            FOCUS_FILTER_MILLITARY
        }
        bypass = {
            date > 1913.12.31
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            #Placeholder
            air_experience = 20
        }
    }
    focus = {
        id = SPR_army_reform_one
        icon = GFX_focus_chi_army_reform
        x = 19
        y = 4
        cost = 1
        prerequisite = {
            focus = SPR_the_spanish_army
        }
        available = {
            has_idea = spanish_army_debuffs
        }
        search_filters = {
            FOCUS_FILTER_MILLITARY
            FOCUS_FILTER_MILLITARYREFORM
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            swap_ideas = {
                remove_idea = spanish_army_debuffs
                add_idea = spanish_army_debuffs_two
            }
        }

    }
    focus = {
        id = SPR_navy_reform_one
        icon = GFX_focus_bombard_sevastopol
        x = 1
        y = 4
        cost = 1
        prerequisite = {
            focus = SPR_the_spanish_navy
        }
        available = {
            has_idea = spanish_american_naval_defeats
        }
        search_filters = {
            FOCUS_FILTER_MILLITARY
            FOCUS_FILTER_MILLITARYREFORM
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            swap_ideas = {
                remove_idea = spanish_american_naval_defeats
                add_idea = spanish_navy_debuffs_two
            }
        }
    }
    focus = {
        id = SPR_navy_factory_one
        icon = GFX_goal_generic_construct_naval_dockyard
        x = 3
        y = 4
        cost = 1
        prerequisite = {
            focus = SPR_the_spanish_navy
        }
        search_filters = {
            FOCUS_FILTER_MILLITARY
            FOCUS_FILER_CONSTRUCTION
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            743 = {
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = dockyard
                    level = 2
                    instant_build = yes
                }
                set_state_flag = navy_industrial_exp_one
            }
        }
    }
    focus = {
        id = SPR_port_build_one
        icon = GFX_focus_generic_africa_naval
        x = 5
        y = 4
        cost = 1
        prerequisite = {
            focus = SPR_the_spanish_navy
        }
        search_filters = {
            FOCUS_FILTER_MILLITARY
            FOCUS_FILER_CONSTRUCTION
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            743 = {
                add_building_construction = {
                    type = naval_base
                    province = 9945
                    level = 1
                    instant_build = yes
                }
                add_building_construction = {
                    type = naval_base
                    province = 12082
                    level = 1
                    instant_build = yes
                }
                set_state_flag = navy_port_exp_one
            }
        }
    }
    focus = {
        id = SPR_arms_factory_exp_one
        icon = GFX_goal_generic_construct_mil_factory
        x = 17
        y = 4
        cost = 1
        prerequisite = {
            focus = SPR_the_spanish_army
        }
        search_filters = {
            FOCUS_FILTER_MILLITARY
            FOCUS_FILER_CONSTRUCTION
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            41 = {
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = arms_factory
                    level = 2
                    instant_build = yes
                }
            }
        }
    }
    focus = {
        id = SPR_prep_naval_exp_two
        icon = GFX_focus_bombard_sevastopol
        x = 1
        y = 5
        cost = 1
        prerequisite = {
            focus = SPR_navy_reform_one
        }
        available = {
            has_idea = spanish_navy_debuffs_two
        }
        search_filters = {
            FOCUS_FILTER_MILLITARY
            FOCUS_FILTER_MILLITARYREFORM
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            add_timed_idea = {
                idea = preparing_to_reform_navy_two
                days = 70
            }
        }
    }
    focus = {
        id = SPR_navy_reform_two
        icon = GFX_focus_bombard_sevastopol
        x = 1
        y = 6
        cost = 1
        prerequisite = {
            focus = SPR_prep_naval_exp_two
        }
        available = {
            has_idea = spanish_navy_debuffs_two
            NOT = {
                has_idea = preparing_to_reform_navy_two
            }
        }
        search_filters = {
            FOCUS_FILTER_MILLITARY
            FOCUS_FILTER_MILLITARYREFORM
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            swap_ideas = {
                remove_idea = spanish_navy_debuffs_two
                add_idea = spanish_navy_debuffs_three
            }
        }
    }
    focus = {
        id = SPR_plane_factory_one
        icon = GFX_goal_generic_construct_mil_factory
        x = 10
        y = 4
        cost = 1
        prerequisite = {
            focus = SPR_the_spanish_airforce
        }
        search_filters = {
            FOCUS_FILTER_MILLITARY
            FOCUS_FILER_CONSTRUCTION
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            174 = {
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = arms_factory
                    level = 1
                    instant_build = yes
                }
                add_building_construction = {
                    type = industrial_complex
                    level = 1
                    instant_build = yes
                }
                set_state_flag = air_factory_construct_one
            }
        }
    }
    focus = {
        id = SPR_buy_first_planes
        icon = GFX_focus_generic_aircraft_production
        x = 12
        y = 4
        cost = 1
        prerequisite = {
           focus = SPR_the_spanish_airforce
        }
        search_filters = {
            FOCUS_FILTER_MILLITARY
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            add_equipment_to_stockpile = {
                type = fighter_equipment_0
                amount = 100
                producer = ENG
            }
            add_timed_idea = {
                idea = spain_purchases_planes
                days = 20
            }
        }
    }
    focus = {
        id = SPR_rifle_research_bonus
        icon = GFX_focus_generic_manpower
        x = 15
        y = 4
        cost = 1
        prerequisite = {
            focus = SPR_the_spanish_army
        }
        search_filters = {
            FOCUS_FILTER_MILLITARY
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            add_tech_bonus = {
                bonus = 1
                uses = 1
                category = infantry_weapons
            }
        }
    }
    focus = {
        id = SPR_first_of_other_industry
        icon = GFX_focus_generic_economic_profit
        x = 50
        y = 1
        cost = 1
        search_filters = {
            FOCUS_FILER_CONSTRUCTION
            FOCUS_FILTER_INDUSTRIAL
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            165 = {
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = industrial_complex
                    level = 1
                    instant_build = yes
                }
            }
        }
    }
    focus = {
        id = SPR_research_plane_technology
        icon = GFX_focus_generic_aircraft_production
        x = 8
        y = 4
        cost = 1
        prerequisite = {
            focus = SPR_the_spanish_airforce 
        }
        search_filters = {
            FOCUS_FILTER_MILLITARY
            FOCUS_FILTER_RESEARCH
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            set_technology = {
                aircraft_engine = 1
            }
            add_tech_bonus = {
                bonus = 1
                uses = 1
                category = light_fighter
            }
        }
    }
    focus = {
        id = SPR_colonial_industry_and_infrastructure
        icon = GFX_focus_industry_steel
        x = 43
        y = 3
        cost = 1
        prerequisite = {
            focus = SPR_first_of_other_industry
        }
        search_filters = {
            FOCUS_FILTER_INDUSTRIAL
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            #Placeholder
            add_political_power = 100
        }
    }
    focus = {
        id = SPR_spanish_industry_and_infrastructure
        icon = GFX_focus_industry_steel
        x = 57
        y = 3
        cost = 1
        prerequisite = {
            focus = SPR_first_of_other_industry
        }
        search_filters = {
            FOCUS_FILTER_INDUSTRIAL
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            #Placeholder
            add_political_power = 100
        }
    }
    focus = {
        id = SPR_prep_army_reform_two
        icon = GFX_focus_chi_army_reform
        x = 19
        y = 5
        cost = 1
        prerequisite = {
            focus = SPR_army_reform_one
        }
        available = {
            has_idea = spanish_army_debuffs_two
        }
        search_filters = {
            FOCUS_FILTER_MILLITARY
            FOCUS_FILTER_MILLITARYREFORM
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            add_timed_idea = {
                idea = prep_reform_army_one
                days = 70
            }
        }
    }
    focus = {
        id = SPR_reform_army_two
        icon = GFX_focus_chi_army_reform
        x = 19
        y = 6
        cost = 1
        prerequisite = {
            focus = SPR_prep_army_reform_two
        }
        available = {
            has_idea = spanish_army_debuffs_two
            NOT = {
                has_idea = prep_reform_army_one
            }
        }
        search_filters = {
            FOCUS_FILTER_MILLITARY
            FOCUS_FILTER_MILLITARYREFORM
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            swap_ideas = {
                remove_idea = spanish_army_debuffs_two
                add_idea = spanish_army_debuffs_three
            }
        }
    }
    focus = {
        id = SPR_port_build_two
        icon = GFX_focus_generic_navy_battleship2
        x = 5
        y = 5
        cost = 1
        prerequisite = {
           focus =  SPR_port_build_one
        }
        search_filters = {
            FOCUS_FILTER_MILLITARY
            FOCUS_FILER_CONSTRUCTION
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            171 = {
                add_building_construction = {
                    type = naval_base
                    province = 758
                    level = 2
                    instant_build = yes
                }
                set_state_flag = navy_port_exp_two
            }
        }
    }
    focus = {
        id = SPR_navy_factory_two
        icon = GFX_goal_generic_construct_naval_dockyard
        x = 3
        y = 5
        cost = 1
        prerequisite = {
            focus = SPR_navy_factory_one
        }
        search_filters = {
            FOCUS_FILTER_MILLITARY
            FOCUS_FILER_CONSTRUCTION
            FOCUS_FILTER_INDUSTRIAL
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            171 = {
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = dockyard
                    level = 2
                    instant_build = yes
                }
            }
        }
    }
    focus = {
        id = SPR_airbase_build_one
        icon = GFX_focus_red_sky
        x = 10
        y = 5
        cost = 1
        prerequisite = {
            focus = SPR_plane_factory_one
        }
        search_filters = {
            FOCUS_FILER_CONSTRUCTION
            FOCUS_FILTER_MILLITARY
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            41 = {
                add_building_construction = {
                    type = air_base
                    level = 1
                    instant_build = yes
                }
            }
        }
    }
    focus = {
        id = SPR_navarre_airbase_factory
        icon = GFX_goal_generic_air_fighter2
        x = 10
        y = 6
        cost = 1
        prerequisite = {
            focus = SPR_airbase_build_one
        }
        search_filters = {
            FOCUS_FILER_CONSTRUCTION
            FOCUS_FILTER_MILLITARY
            FOCUS_FILTER_INDUSTRIAL
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            172 = {
                add_building_construction = {
                    type = air_base
                    level = 1
                    instant_build = yes
                }
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = arms_factory
                    level = 1
                    instant_build = yes
                }
            }
        }
    }
    focus = {
        id = SPR_railway_improve_one
        icon = GFX_focus_train_railroads
        x = 57
        y = 4
        cost = 1
        prerequisite = {
            focus = SPR_first_of_other_industry
        }
        select_effect = {
            add_timed_idea = {
                idea = spain_finance_rail_build
                days = 7
            }
        }
        search_filters = {
            FOCUS_FILER_CONSTRUCTION
            FOCUS_FILTER_INDUSTRIAL
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            build_railway = {
                level = 1
                build_only_on_allied = no
                controller_priority = {
                    base = 1

                    modifier = {
                        tag = SPR
                        add = 2
                    }
                }
                fallback = yes
                path = { 3938 3794 }
                start_province = 41
                target_province = 41
            }
            build_railway = {
                level = 1
                build_only_on_allied = no
                controller_priority = {
                    base = 1

                    modifier = {
                        tag = SPR
                        add = 2
                    }
                }
                fallback = yes
                path = { 3794 9800 9846 11825 }
                start_province = 41
                target_province = 176   
            }
            add_timed_idea = {
                idea = spain_unable_to_build_rails
                days = 20
            }
        }
    }
    focus = {
        id = SPR_railway_improve_two
        icon = GFX_focus_train_railroads
        x = 57
        y = 5
        cost = 1
        prerequisite = {
            focus = SPR_railway_improve_one
        }
        select_effect = {
            add_timed_idea = {
                idea = spain_finance_rail_build
                days = 7
            }
        }
        available = {
            NOT = {
                has_idea = spain_unable_to_build_rails
            }
        }
        search_filters = {
            FOCUS_FILER_CONSTRUCTION
            FOCUS_FILTER_INDUSTRIAL
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            build_railway = {
                level = 1
                build_only_on_allied = no
                controller_priority = {
                    base = 1

                    modifier = {
                        tag = SPR
                        add = 2
                    }
                }
                fallback = yes
                path = { 11825 918 3918 3727 3725 11840 11677 }
                start_province = 176
                target_province = 171
            }
            build_railway = {
                level = 1
                build_only_on_allied = no
                controller_priority = {
                    base = 1

                    modifier = {
                        tag = SPR
                        add = 2
                    }
                }
                fallback = yes
                path = { 11677 11692 6955 758 }
                start_province = 176
                target_province = 171
            }
            add_timed_idea = {
                idea = spain_unable_to_build_rails
                days = 20
            }
        }
    }
    focus = {
        id = SPR_improve_colonial_roads
        icon = GFX_goal_generic_construct_infrastructure
        x = 40
        y = 4
        cost = 1
        prerequisite = {
            focus = SPR_colonial_industry_and_infrastructure
        }
        select_effect = {
            add_timed_idea = {
                idea = spain_finance_road_build
                days = 7
            }
        }
        search_filters {
            FOCUS_FILER_CONSTRUCTION
        }
        completion_reward = {
            #Placeholder
            #add_political_power = 100
            699 = {
                add_building_construction = {
                    type = infrastructure
                    level = 1
                    instant_build = yes
                }
            }
        }
    }
    focus = {
        id = SPR_build_riodeoro_railway
        icon = GFX_focus_train_railroads
        x = 43
        y = 4
        cost = 1
        prerequisite = {
            focus = SPR_colonial_industry_and_infrastructure
        }
        select_effect = {
            add_timed_idea = {
                idea = spain_finance_rail_build
                days = 7
            }
        }
        search_filters = {
            FOCUS_FILER_CONSTRUCTION
        }
        completion_reward = {
            build_railway = {
                level = 1
                build_only_on_allied = no
                controller_priority = {
                    base = 1

                    modifier = {
                        tag = SPR
                        add = 2
                    }
                }
                fallback = yes
                path = { 4920 8038 5012 10875 }
                start_province = 699
                target_province = 699
            }
            add_timed_idea = {
                idea = spain_unable_to_build_rails
                days = 12`
            }
        }
    }
}