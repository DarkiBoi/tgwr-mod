focus_tree = {
    id = spain_focus
    continuous_focus_position = { x = 200    y = 2500 } 
    country = {
        factor = 0
        modifier = {
            add = 10
            tag = SPR
        }
    }
    focus = {
        id = SPR_the_spanish_armed_forces
        icon  = GFX_focus_marmara_artillery
        x = 11
        y = 1
        cost = 10
        search_filters = {
            FOCUS_FILTER_MILLITARY
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            #Placeholder
            army_experience = 20
            navy_experience = 20
            air_experience = 20
        }
    }
    focus = {
        id = SPR_the_spanish_navy
        icon = GFX_focus_generic_destroyer
        x = 3
        y = 3
        cost = 10
        prerequisite = {
            focus = SPR_the_spanish_armed_forces
        }
        search_filters = {
            FOCUS_FILTER_MILLITARY
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            #Placeholder
            navy_experience = 20
            country_event = {
                id = ww1_spain.4
            }
        }
    }
    focus = {
        id = SPR_naval_plan_1914
        icon = GFX_focus_generic_destroyer
        x = 7
        y = 4
        cost = 10
        prerequisite = {
            focus = SPR_the_spanish_navy
        }
        available = {
            date > 1914.1.1
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            unlock_decision_tooltip = SPR_1914_ship_one
            unlock_decision_tooltip = SPR_1914_ship_two
            unlock_decision_tooltip = SPR_1914_ship_three
        }
    }
    focus = {
        id = SPR_naval_plan_1915
        icon = GFX_focus_generic_destroyer
        x = 7
        y = 5
        cost = 10
        prerequisite = {
            focus = SPR_naval_plan_1914
        }
        available = {
            date > 1915.1.1
            AND = {
                has_country_flag = t1914_bb_built
            }
            AND = {
                has_country_flag = t1914_ca_built
            }
            AND = {
                has_country_flag = t1914_sb_built
            }
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            unlock_decision_tooltip = SPR_1915_ship_one
        }
    }
    focus = {
        id = SPR_the_spanish_army
        icon = GFX_focus_chi_army_reform
        x = 18
        y = 3
        cost = 10
        prerequisite = {
            focus = SPR_the_spanish_armed_forces
        }
        search_filters = {
            FOCUS_FILTER_MILLITARY
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            army_experience = 20
            country_event = {
                id = ww1_spain.5
            }
        }
    }
    focus = {
        id = SPR_the_spanish_airforce
        icon = GFX_focus_generic_aircraft_production
        x = 11
        y = 3
        cost = 10
        prerequisite = {
            focus = SPR_the_spanish_armed_forces
        }
        available = {
            has_country_flag = spanish_airforce_founded
        }
        search_filters = {
            FOCUS_FILTER_MILLITARY
        }
        bypass = {
            date > 1913.12.31
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            #Placeholder
            air_experience = 20
        }
    }
    focus = {
        id = SPR_army_reform_one
        icon = GFX_focus_chi_army_reform
        x = 20
        y = 4
        cost = 10
        prerequisite = {
            focus = SPR_the_spanish_army
        }
        available = {
            has_idea = spanish_army_debuffs
        }
        search_filters = {
            FOCUS_FILTER_MILLITARY
            FOCUS_FILTER_MILLITARYREFORM
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            swap_ideas = {
                remove_idea = spanish_army_debuffs
                add_idea = spanish_army_debuffs_two
            }
        }

    }
    focus = {
        id = SPR_navy_reform_one
        icon = GFX_focus_bombard_sevastopol
        x = 1
        y = 4
        cost = 10
        prerequisite = {
            focus = SPR_the_spanish_navy
        }
        available = {
            has_idea = spanish_american_naval_defeats
        }
        search_filters = {
            FOCUS_FILTER_MILLITARY
            FOCUS_FILTER_MILLITARYREFORM
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            swap_ideas = {
                remove_idea = spanish_american_naval_defeats
                add_idea = spanish_navy_debuffs_two
            }
        }
    }
    focus = {
        id = SPR_navy_factory_one
        icon = GFX_goal_generic_construct_naval_dockyard
        x = 3
        y = 4
        cost = 10
        prerequisite = {
            focus = SPR_the_spanish_navy
        }
        search_filters = {
            FOCUS_FILTER_MILLITARY
            FOCUS_FILER_CONSTRUCTION
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            743 = {
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = dockyard
                    level = 2
                    instant_build = yes
                }
                set_state_flag = navy_industrial_exp_one
            }
        }
    }
    focus = {
        id = SPR_port_build_one
        icon = GFX_focus_generic_africa_naval
        x = 5
        y = 4
        cost = 10
        prerequisite = {
            focus = SPR_the_spanish_navy
        }
        search_filters = {
            FOCUS_FILTER_MILLITARY
            FOCUS_FILER_CONSTRUCTION
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            743 = {
                add_building_construction = {
                    type = naval_base
                    province = 9945
                    level = 1
                    instant_build = yes
                }
                add_building_construction = {
                    type = naval_base
                    province = 12082
                    level = 1
                    instant_build = yes
                }
                set_state_flag = navy_port_exp_one
            }
        }
    }
    focus = {
        id = SPR_arms_factory_exp_one
        icon = GFX_goal_generic_construct_mil_factory
        x = 18
        y = 4
        cost = 10
        prerequisite = {
            focus = SPR_the_spanish_army
        }
        search_filters = {
            FOCUS_FILTER_MILLITARY
            FOCUS_FILER_CONSTRUCTION
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            41 = {
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = arms_factory
                    level = 2
                    instant_build = yes
                }
            }
        }
    }
    focus = {
        id = SPR_prep_naval_exp_two
        icon = GFX_focus_bombard_sevastopol
        x = 1
        y = 5
        cost = 10
        prerequisite = {
            focus = SPR_navy_reform_one
        }
        available = {
            has_idea = spanish_navy_debuffs_two
        }
        search_filters = {
            FOCUS_FILTER_MILLITARY
            FOCUS_FILTER_MILLITARYREFORM
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            add_timed_idea = {
                idea = preparing_to_reform_navy_two
                days = 70
            }
        }
    }
    focus = {
        id = SPR_navy_reform_two
        icon = GFX_focus_bombard_sevastopol
        x = 1
        y = 6
        cost = 10
        prerequisite = {
            focus = SPR_prep_naval_exp_two
        }
        available = {
            has_idea = spanish_navy_debuffs_two
            NOT = {
                has_idea = preparing_to_reform_navy_two
            }
        }
        search_filters = {
            FOCUS_FILTER_MILLITARY
            FOCUS_FILTER_MILLITARYREFORM
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            swap_ideas = {
                remove_idea = spanish_navy_debuffs_two
                add_idea = spanish_navy_debuffs_three
            }
        }
    }
    focus = {
        id = SPR_plane_factory_one
        icon = GFX_goal_generic_construct_mil_factory
        x = 11
        y = 4
        cost = 10
        prerequisite = {
            focus = SPR_the_spanish_airforce
        }
        search_filters = {
            FOCUS_FILTER_MILLITARY
            FOCUS_FILER_CONSTRUCTION
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            174 = {
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = arms_factory
                    level = 1
                    instant_build = yes
                }
                add_building_construction = {
                    type = industrial_complex
                    level = 1
                    instant_build = yes
                }
                set_state_flag = air_factory_construct_one
            }
        }
    }
    focus = {
        id = SPR_buy_first_planes
        icon = GFX_focus_generic_aircraft_production
        x = 13
        y = 4
        cost = 10
        prerequisite = {
           focus = SPR_the_spanish_airforce
        }
        search_filters = {
            FOCUS_FILTER_MILLITARY
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            add_equipment_to_stockpile = {
                type = fighter_equipment_0
                amount = 100
                producer = ENG
            }
            add_timed_idea = {
                idea = spain_purchases_planes
                days = 20
            }
        }
    }
    focus = {
        id = SPR_rifle_research_bonus
        icon = GFX_focus_generic_manpower
        x = 16
        y = 4
        cost = 10
        prerequisite = {
            focus = SPR_the_spanish_army
        }
        search_filters = {
            FOCUS_FILTER_MILLITARY
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            add_tech_bonus = {
                bonus = 1
                uses = 1
                category = infantry_weapons
            }
        }
    }
    focus = {
        id = SPR_first_of_other_industry
        icon = GFX_focus_generic_economic_profit
        x = 47
        y = 1
        cost = 10
        search_filters = {
            FOCUS_FILER_CONSTRUCTION
            FOCUS_FILTER_INDUSTRIAL
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            add_tech_bonus = {
                bonus = 1
                uses = 2
                category = construction_tech
            }
        }
    }
    focus = {
        id = SPR_research_plane_technology
        icon = GFX_focus_generic_aircraft_production
        x = 9
        y = 4
        cost = 10
        prerequisite = {
            focus = SPR_the_spanish_airforce 
        }
        search_filters = {
            FOCUS_FILTER_MILLITARY
            FOCUS_FILTER_RESEARCH
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            set_technology = {
                aircraft_engine = 1
            }
            add_tech_bonus = {
                bonus = 1
                uses = 1
                category = light_fighter
            }
        }
    }
    focus = {
        id = SPR_colonial_industry_and_infrastructure
        icon = GFX_focus_industry_steel
        x = 41
        y = 3
        cost = 10
        prerequisite = {
            focus = SPR_first_of_other_industry
        }
        search_filters = {
            FOCUS_FILTER_INDUSTRIAL
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            add_tech_bonus = {
                bonus = 0.25
                uses = 1
                category = construction_tech
            }
        }
    }
    focus = {
        id = SPR_spanish_industry_and_infrastructure
        icon = GFX_focus_industry_steel
        x = 53
        y = 3
        cost = 10
        prerequisite = {
            focus = SPR_first_of_other_industry
        }
        search_filters = {
            FOCUS_FILTER_INDUSTRIAL
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            add_tech_bonus = {
                bonus = 0.25
                uses = 1
                category = construction_tech
            }
        }
    }
    focus = {
        id = SPR_prep_army_reform_two
        icon = GFX_focus_chi_army_reform
        x = 20
        y = 5
        cost = 10
        prerequisite = {
            focus = SPR_army_reform_one
        }
        available = {
            has_idea = spanish_army_debuffs_two
        }
        search_filters = {
            FOCUS_FILTER_MILLITARY
            FOCUS_FILTER_MILLITARYREFORM
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            add_timed_idea = {
                idea = prep_reform_army_one
                days = 70
            }
        }
    }
    focus = {
        id = SPR_reform_army_two
        icon = GFX_focus_chi_army_reform
        x = 20
        y = 6
        cost = 10
        prerequisite = {
            focus = SPR_prep_army_reform_two
        }
        available = {
            has_idea = spanish_army_debuffs_two
            NOT = {
                has_idea = prep_reform_army_one
            }
        }
        search_filters = {
            FOCUS_FILTER_MILLITARY
            FOCUS_FILTER_MILLITARYREFORM
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            swap_ideas = {
                remove_idea = spanish_army_debuffs_two
                add_idea = spanish_army_debuffs_three
            }
        }
    }
    focus = {
        id = SPR_port_build_two
        icon = GFX_focus_generic_navy_battleship2
        x = 5
        y = 5
        cost = 10
        prerequisite = {
           focus =  SPR_port_build_one
        }
        search_filters = {
            FOCUS_FILTER_MILLITARY
            FOCUS_FILER_CONSTRUCTION
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            171 = {
                add_building_construction = {
                    type = naval_base
                    province = 758
                    level = 2
                    instant_build = yes
                }
                set_state_flag = navy_port_exp_two
            }
        }
    }
    focus = {
        id = SPR_navy_factory_two
        icon = GFX_goal_generic_construct_naval_dockyard
        x = 3
        y = 5
        cost = 10
        prerequisite = {
            focus = SPR_navy_factory_one
        }
        search_filters = {
            FOCUS_FILTER_MILLITARY
            FOCUS_FILER_CONSTRUCTION
            FOCUS_FILTER_INDUSTRIAL
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            171 = {
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = dockyard
                    level = 2
                    instant_build = yes
                }
            }
        }
    }
    focus = {
        id = SPR_airbase_build_one
        icon = GFX_focus_red_sky
        x = 11
        y = 5
        cost = 10
        prerequisite = {
            focus = SPR_plane_factory_one
        }
        search_filters = {
            FOCUS_FILER_CONSTRUCTION
            FOCUS_FILTER_MILLITARY
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            41 = {
                add_building_construction = {
                    type = air_base
                    level = 1
                    instant_build = yes
                }
            }
        }
    }
    focus = {
        id = SPR_navarre_airbase_factory
        icon = GFX_goal_generic_air_fighter2
        x = 11
        y = 6
        cost = 10
        prerequisite = {
            focus = SPR_airbase_build_one
        }
        search_filters = {
            FOCUS_FILER_CONSTRUCTION
            FOCUS_FILTER_MILLITARY
            FOCUS_FILTER_INDUSTRIAL
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            172 = {
                add_building_construction = {
                    type = air_base
                    level = 1
                    instant_build = yes
                }
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = arms_factory
                    level = 1
                    instant_build = yes
                }
            }
        }
    }
    focus = {
        id = SPR_railway_improve_one
        icon = GFX_focus_train_railroads
        x = 53
        y = 4
        cost = 10
        prerequisite = {
            focus = SPR_first_of_other_industry
        }
        select_effect = {
            add_timed_idea = {
                idea = spain_finance_rail_build
                days = 7
            }
        }
        available = {
            NOT = {
                has_idea = spain_unable_to_build_rails
            }
        }
        search_filters = {
            FOCUS_FILER_CONSTRUCTION
            FOCUS_FILTER_INDUSTRIAL
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            build_railway = {
                level = 1
                build_only_on_allied = no
                controller_priority = {
                    base = 1

                    modifier = {
                        tag = SPR
                        add = 2
                    }
                }
                fallback = yes
                path = { 3938 3794 }
                start_province = 41
                target_province = 41
            }
            build_railway = {
                level = 1
                build_only_on_allied = no
                controller_priority = {
                    base = 1

                    modifier = {
                        tag = SPR
                        add = 2
                    }
                }
                fallback = yes
                path = { 3794 9800 9846 11825 }
                start_province = 41
                target_province = 176   
            }
            add_timed_idea = {
                idea = spain_unable_to_build_rails
                days = 20
            }
        }
    }
    focus = {
        id = SPR_railway_improve_two
        icon = GFX_focus_train_railroads
        x = 53
        y = 5
        cost = 10
        prerequisite = {
            focus = SPR_railway_improve_one
        }
        select_effect = {
            add_timed_idea = {
                idea = spain_finance_rail_build
                days = 7
            }
        }
        available = {
            NOT = {
                has_idea = spain_unable_to_build_rails
            }
        }
        search_filters = {
            FOCUS_FILER_CONSTRUCTION
            FOCUS_FILTER_INDUSTRIAL
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            build_railway = {
                level = 1
                build_only_on_allied = no
                controller_priority = {
                    base = 1

                    modifier = {
                        tag = SPR
                        add = 2
                    }
                }
                fallback = yes
                path = { 11825 918 3918 3727 3725 11840 11677 }
                start_province = 176
                target_province = 171
            }
            build_railway = {
                level = 1
                build_only_on_allied = no
                controller_priority = {
                    base = 1

                    modifier = {
                        tag = SPR
                        add = 2
                    }
                }
                fallback = yes
                path = { 11677 11692 6955 758 }
                start_province = 176
                target_province = 171
            }
            add_timed_idea = {
                idea = spain_unable_to_build_rails
                days = 20
            }
        }
    }
    focus = {
        id = SPR_railway_improve_three
        icon = GFX_focus_train_railroads
        x = 53  
        y = 6
        cost = 10
        prerequisite = {
            focus = SPR_railway_improve_two
        }
        select_effect = {
            add_timed_idea = {
                idea = spain_finance_rail_build
                days = 7
            }
        }
        available = {
            NOT = {
                has_idea = spain_unable_to_build_rails
            }
        }
        search_filters = {
            FOCUS_FILER_CONSTRUCTION
            FOCUS_FILTER_INDUSTRIAL
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            build_railway = {
                level = 1
                build_only_on_allied = no
                controller_priority = {
                    base = 1

                    modifier = {
                        tag = SPR
                        add = 2
                    }
                }
                fallback = yes
                path = { 875 1178 7183 }
                start_province = 169
                target_province = 169
            }
            build_railway = {
                level = 1
                build_only_on_allied = no
                controller_priority = {
                    base = 1

                    modifier = {
                        tag = SPR
                        add = 2
                    }
                }
                fallback = yes
                path = { 7183 1048 }
                start_province = 169
                target_province = 169
            }
            add_timed_idea = {
                idea = spain_unable_to_build_rails
                days = 20
            }
        }
    }
    focus = {
        id = SPR_improve_colonial_roads
        icon = GFX_SPR_road_construction
        x = 39
        y = 4
        cost = 10
        prerequisite = {
            focus = SPR_colonial_industry_and_infrastructure
        }
        select_effect = {
            add_timed_idea = {
                idea = spain_finance_road_build
                days = 7
            }
        }
        search_filters {
            FOCUS_FILER_CONSTRUCTION
        }
        completion_reward = {
            699 = {
                add_building_construction = {
                    type = infrastructure
                    level = 1
                    instant_build = yes
                }
            }
        }
    }
    focus = {
        id = SPR_build_riodeoro_railway
        icon = GFX_focus_train_railroads
        x = 41
        y = 4
        cost = 10
        prerequisite = {
            focus = SPR_colonial_industry_and_infrastructure
        }
        select_effect = {
            add_timed_idea = {
                idea = spain_finance_rail_build
                days = 7
            }
        }
        available = {
            NOT = {
                has_idea = spain_unable_to_build_rails
            }
        }
        search_filters = {
            FOCUS_FILER_CONSTRUCTION
        }
        completion_reward = {
            build_railway = {
                level = 1
                build_only_on_allied = no
                controller_priority = {
                    base = 1

                    modifier = {
                        tag = SPR
                        add = 2
                    }
                }
                fallback = yes
                path = { 4920 8038 5012 10875 }
                start_province = 699
                target_province = 699
            }
            add_timed_idea = {
                idea = spain_unable_to_build_rails
                days = 12
            }
        }
    }
    focus = {
        id = SPR_riodeoro_civ_factories
        icon = GFX_focus_industry_steel
        x = 43
        y = 4
        cost = 10
        prerequisite = {
            focus = SPR_colonial_industry_and_infrastructure
        }
        search_filters = {
            FOCUS_FILER_CONSTRUCTION
            FOCUS_FILTER_INDUSTRIAL
        }
        completion_reward = {
            699 = {
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = industrial_complex
                    level = 1
                    instant_build = yes
                }
            }
        }
    }
    focus = {
        id = SPR_improve_madrid_roads
        icon = GFX_SPR_road_construction
        x = 51
        y = 4
        cost = 10
        prerequisite = {
            focus = SPR_spanish_industry_and_infrastructure
        }
        search_filters = {
            FOCUS_FILER_CONSTRUCTION
        }
        completion_reward = {
            41 = {
                add_building_construction = {
                    type = infrastructure
                    level = 2
                    instant_build = yes
                }
            }
        }
    }
    focus = {
        id = SPR_begin_fixing_industry
        icon = GFX_focus_industry_steel
        x = 47
        y = 3
        cost = 10
        prerequisite = {
            focus = SPR_first_of_other_industry
        }
        search_filters = {
            FOCUS_FILTER_INDUSTRIAL
        }
        completion_reward = {
            add_tech_bonus = {
                bonus = 0.5
                uses = 1
                technology = concentrated_industry
                technology = dispersed_industry
            }
        }
    }
    focus = {
        id = SPR_construction_reform_one
        icon = GFX_focus_industry_steel
        x = 45
        y = 4
        cost = 10
        prerequisite = {
            focus = SPR_begin_fixing_industry
        }
        available = {
            has_idea = spain_industrial_debuffs
        }
        bypass = {
            NOT = {
                has_idea = spain_industrial_debuffs
            }
        }
        search_filters = {
            FOCUS_FILTER_INDUSTRIAL
        }
        completion_reward = {
            swap_ideas = {
                remove_idea = spain_industrial_debuffs
                add_idea = spain_industrial_debuffs_two
            }
        }
    }
    focus = {
        id = SPR_production_reform_one
        icon = GFX_goal_generic_production
        x = 49
        y = 4
        cost = 10
        prerequisite = {
            focus = SPR_begin_fixing_industry
        }
        available = {
            has_idea = spain_production_debuffs
        }
        bypass = {
            NOT = {
                has_idea = spain_production_debuffs
            }
        }
        search_filters = {
            FOCUS_FILTER_INDUSTRIAL
        }
        completion_reward = {
            swap_ideas = {
                remove_idea = spain_production_debuffs
                add_idea = spain_production_debuffs_two
            }
        }
    }
    #Republican Branch
    focus = {
        id = SPR_the_general_strike
        icon = GFX_focus_communist_urbanization
        x = 80
        y = 3
        cost = 10
        prerequisite = {
            focus = SPR_the_republican_option
        }
        mutually_exclusive = {
            focus = SPR_non_commie_republic
        }
        available = {
            has_country_flag = nineteen_thirteen_general_strike
        }
        search_filters = {
            FOCUS_FILTER_POLITICAL
            FOCUS_FILTER_REPUBLICAN
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            add_stability = -0.15
            add_popularity = {
                ideology = communism
                popularity = 0.1
            }
        }
    }
    focus = {
        id = SPR_strike_supressed
        icon = GFX_focus_generic_suppress_socdems
        x = 80
        y = 4
        cost = 10
        prerequisite = {
            focus = SPR_the_general_strike
        }
        available = {
            has_country_flag = troops_deployed_strike
            has_country_flag = strike_supressed
            has_political_power > 100
        }
        search_filters = {
            FOCUS_FILTER_POLITICAL
            FOCUS_FILTER_REPUBLICAN
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            add_political_power = -100
            add_stability = -0.2
            add_war_support = -0.1
        }
    }
    focus = {
        id = SPR_boost_communism_support
        icon = GFX_focus_worker_culture
        x = 77
        y = 5
        cost = 10
        prerequisite = {
            focus = SPR_strike_supressed
        }
        search_filters = {
            FOCUS_FILTER_POLITICAL
            FOCUS_FILTER_REPUBLICAN
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            add_timed_idea = {
                idea = spain_garner_support_soc
                days = 100
            }
        }
    }
    focus = {
        id = SPR_raid_weapons_store
        icon = GFX_focus_communist_heavy_industry
        x = 80
        y = 5
        cost = 10
        prerequisite = {
            focus = SPR_strike_supressed
        }
        search_filters = {
            FOCUS_FILTER_POLITICAL
            FOCUS_FILTER_REPUBLICAN
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            country_event = {
                id = ww1_spain.12
            }
        }
    }
    focus = {
        id = SPR_prewar_sabotage
        icon = GFX_focus_ottoman_comie_flag
        x = 83
        y = 5
        cost = 10
        prerequisite = {
            focus = SPR_strike_supressed
        }
        search_filters = {
            FOCUS_FILTER_POLITICAL
            FOCUS_FILTER_REPUBLICAN
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            add_timed_idea = {
                idea = spain_prewar_ind_sabotage
                days = 100
            }
        }
    }
    focus = {
        id = SPR_final_preperations_com
        icon = GFX_focus_soviet_congress
        x = 80
        y = 7
        cost = 10
        prerequisite = {
            focus = SPR_boost_communism_support
        }
        prerequisite = {
            focus = SPR_raid_weapons_store
        }
        prerequisite = {
            focus = SPR_prewar_sabotage
        }
        search_filters = {
            FOCUS_FILTER_POLITICAL
            FOCUS_FILTER_REPUBLICAN
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            #Placeholder
            add_political_power = 100
        }
    }
    focus = {
        id = SPR_com_revolution_begin
        icon = GFX_focus_red_star_soldier
        x = 80
        y = 8
        cost = 10
        prerequisite = {
            focus = SPR_final_preperations_com
        }
        search_filters = {
            FOCUS_FILTER_REPUBLICAN
            FOCUS_FILTER_POLITICAL
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            start_civil_war = {
                ruling_party = communism
                ideology = ROOT
                size = 0.1
                only_own_territory = no
                capital = 165
                states = {
                    165 166 167 172 176 168
                }
                keep_unit_leaders = {
                    
                }
                keep_political_leader = yes
                keep_political_party_members = yes
            }
            D01 = {
                add_ideas = spain_alfonso_xiii
            }
            country_event = {
                id = ww1_spain.13
            }
        }
    }
    focus = {
        id = SPR_non_commie_republic
        icon = GFX_focus_spr_maintain_the_republic
        x = 90
        y = 3
        cost = 10
        prerequisite = {
            focus = SPR_the_republican_option
        }
        mutually_exclusive = {
            focus = SPR_the_general_strike
        }
        available = {
            has_country_flag = nineteen_thirteen_general_strike
        }
        completion_reward = {
            add_ideas = spain_democratic_republican_groups
        }
    }
    focus = {
        id = SPR_the_republican_option
        icon = GFX_focus_royal_question
        x = 85
        y = 1
        cost = 1
        completion_reward = {
            #placeholder reward
            add_political_power = 100
        }
    }
    focus = {
        id = SPR_build_andalusia_factory
        icon = GFX_focus_industry_steel
        x = 55
        y = 4
        cost = 10
        prerequisite = {
            focus = SPR_spanish_industry_and_infrastructure
        }
        completion_reward = {
            169 = {
                add_building_construction = {
                    type = industrial_complex
                    level = 1
                    instant_build = yes
                }
            }
        }
    }
    focus = {
        id = SPR_develop_howitzers
        icon = GFX_focus_marmara_artillery
        x = 16
        y = 5
        cost = 10
        prerequisite = {
            focus = SPR_rifle_research_bonus
        }
        completion_reward = {
            add_tech_bonus = {
                bonus = 1
                uses = 1
                category = artillery
            }
        }
    }
    focus = {
        id = SPR_equatorial_guinea_port
        icon = GFX_focus_generic_africa_naval
        x = 5
        y = 6
        cost = 10
        prerequisite = {
            focus = SPR_port_build_two
        }
        completion_reward = {
            297 = {
                add_building_construction = {
                    type = naval_base
                    province = 8244
                    level = 1
                    instant_build = yes
                }
            }
        }
    }
    focus = {
        id = SPR_improve_guinea_roads
        icon = GFX_SPR_road_construction
        x = 39
        y = 5
        cost = 10
        prerequisite = {
            focus = SPR_improve_colonial_roads
        }
        completion_reward = {
            297 = {
                add_building_construction = {
                    type = infrastructure
                    level = 1
                    instant_build = yes
                }
            }
        }
    }
    focus = {
        id = SPR_prep_reform_industry_two
        icon = GFX_focus_industry_steel
        x = 45
        y = 5
        cost = 10
        prerequisite = {
            focus = SPR_construction_reform_one
        }
        available = {
            has_idea = spain_industrial_debuffs_two
        }
        completion_reward = {
            add_timed_idea = {
                idea = spain_prepare_reform_industry
                days = 50
            }
        }
    }
    focus = {
        id = SPR_construction_reform_two
        icon = GFX_focus_industry_steel
        x = 45
        y = 6
        cost = 10
        prerequisite = {
            focus = SPR_prep_reform_industry_two
        }
        available = {
            has_idea = spain_industrial_debuffs_two
            NOT = {
                has_idea = spain_prepare_reform_industry
            }
        }
        bypass = {
            NOT = {
                has_idea = spain_industrial_debuffs
            }
        }
        completion_reward = {
            swap_ideas = {
                remove_idea = spain_industrial_debuffs_two
                add_idea = spain_industrial_debuffs_three
            }
        }
    }
    focus = {
        id = SPR_prep_naval_ref_three
        icon = GFX_focus_bombard_sevastopol
        x = 1
        y = 7
        cost = 10
        prerequisite = {
            focus = SPR_navy_reform_two
        }
        available = {
            has_idea = spanish_navy_debuffs_three
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            add_timed_idea = {
                idea = preparing_to_reform_navy_two
                days = 70
            }
        }
    }
    focus = {
        id = SPR_navy_reform_three
        icon = GFX_focus_bombard_sevastopol
        x = 1
        y = 8
        cost = 10
        prerequisite = {
            focus = SPR_prep_naval_ref_three
        }
        available = {
            has_idea = spanish_navy_debuffs_three
            NOT = {
                has_idea = preparing_to_reform_navy_two
            }
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            swap_ideas = {
                remove_idea = spanish_navy_debuffs_three
                add_idea = spanish_navy_debuffs_four
            }
        }
    }
    focus = {
        id = SPR_research_new_planes
        icon = GFX_focus_generic_aircraft_production
        x = 9
        y = 5
        cost = 10
        prerequisite = {
            focus = SPR_research_plane_technology
        }
        available = {
            date > 1914.1.1
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            add_tech_bonus = {
                bonus = 1
                uses = 1
                category = light_fighter
            }
        }
    }
    focus = {
        id = SPR_airbase_build_two
        icon = GFX_focus_red_sky
        x = 11
        y = 7
        cost = 10
        prerequisite = {
            focus = SPR_navarre_airbase_factory
        }
        available = {
            controls_state = 699
        }
        cancel = {
            NOT = {
                controls_state = 699
            }
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            699 = {
                add_building_construction = {
                    type = air_base
                    level = 1
                    instant_build = yes
                }
            }
        }
    }
    focus = {
        id = SPR_navy_factory_three
        icon = GFX_goal_generic_construct_naval_dockyard
        x = 3
        y = 6
        cost = 10
        prerequisite = {
            focus = SPR_navy_factory_two
        }
        available = {
            controls_state = 699
        }
        cancel = {
            NOT = {
                controls_state = 699
            }
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            699 = {
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = dockyard
                    level = 1
                    instant_build = yes
                }
            }       
        }
    }
    focus = {
        id = SPR_arms_factory_exp_two
        icon = GFX_goal_generic_construct_mil_factory
        x = 18
        y = 5
        cost = 10
        prerequisite = {
            focus = SPR_arms_factory_exp_one
        }
        available = {
            controls_state = 165
        }
        cancel = {
            NOT = {
                controls_state = 165
            }
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            165 = {
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = arms_factory
                    level = 1
                    instant_build = yes
                }
            }
        }
    }
    focus = {
        id = SPR_prep_army_reform_three
        icon = GFX_focus_chi_army_reform
        x = 20
        y = 7
        cost = 10
        prerequisite = {
            focus = SPR_reform_army_two
        }
        available = {
            has_idea = spanish_army_debuffs_three
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            add_timed_idea = {
                idea = prep_reform_army_one
                days = 70
            }
        }
    }
    focus = {
        id = SPR_reform_army_three
        icon = GFX_focus_chi_army_reform
        x = 20
        y = 8
        cost = 10
        prerequisite = {
            focus = SPR_prep_army_reform_three
        }
        available = {
            has_idea = spanish_army_debuffs_three
            NOT = {
                has_idea = prep_reform_army_one
            }
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            swap_ideas = {
                remove_idea = spanish_army_debuffs_three
                add_idea = spanish_army_debuffs_four
            }            
        }
    }
    focus = {
        id = SPR_develop_support_weapons
        icon = GFX_focus_generic_manpower
        x = 16
        y = 6
        cost = 10
        prerequisite = {
            focus = SPR_develop_howitzers
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            add_tech_bonus = {
                bonus = 1
                uses = 1
                category = infantry_weapons
            }            
        }
    }
    focus = {
        id = SPR_homeland_road_two
        icon = GFX_SPR_road_construction
        x = 51
        y = 5
        cost = 10
        prerequisite = {
            focus = SPR_improve_madrid_roads
        }
        available = {
            controls_state = 175
            controls_state = 168
        }
        cancel = {
            NOT = {
                controls_state = 175
                controls_state = 168
            }
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            175 = {
                add_building_construction = {
                    type = infrastructure
                    level = 1
                    instant_build = yes
                }
            }
            168 = {
                add_building_construction = {
                    type = infrastructure
                    level = 1
                    instant_build = yes
                }
            }
        }
    }
    focus = {
        id = SPR_prep_army_reform_four
        icon = GFX_focus_chi_army_reform
        x = 20
        y = 9
        cost = 10
        prerequisite = {
            focus = SPR_reform_army_three
        }
        available = {
            has_idea = spanish_army_debuffs_four
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            add_timed_idea = {
                idea = prep_reform_army_one
                days = 70
            }
        }
    }
    focus = {
        id = SPR_reform_army_final
        icon = GFX_focus_chi_army_reform
        x = 20
        y = 10
        cost = 10
        prerequisite = {
            focus = SPR_prep_army_reform_four
        }
        available = {
            has_idea = spanish_army_debuffs_four
            NOT = {
                has_idea = prep_reform_army_one
            }
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            remove_ideas = spanish_army_debuffs_four
        }
    }
    focus = {
        id = SPR_prep_naval_ref_four
        icon = GFX_focus_bombard_sevastopol
        x = 1
        y = 9
        cost = 10
        prerequisite = {
            focus = SPR_navy_reform_three
        }
        available = {
            has_idea = spanish_navy_debuffs_four
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            add_timed_idea = {
                idea = preparing_to_reform_navy_two
                days = 70
            }
        }
    }
    focus = {
        id = SPR_navy_reform_final
        icon = GFX_focus_bombard_sevastopol
        x = 1
        y = 10
        cost = 10
        prerequisite = {
            focus = SPR_prep_naval_ref_four
        }
        available = {
            has_idea = spanish_navy_debuffs_four
            NOT = {
                has_idea = preparing_to_reform_navy_two
            }
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            remove_ideas = spanish_navy_debuffs_four
        }
    }
    focus = {
        id = SPR_prepare_production_reform_two
        icon = GFX_goal_generic_production
        x = 49
        y = 5
        cost = 10
        prerequisite = {
            focus = SPR_production_reform_one
        }
        available = {
            has_idea = spain_production_debuffs_two
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            add_timed_idea = {
                idea = spain_prepare_reform_production
                days = 70
            }
        }
    }
    focus = {
        id = SPR_production_reform_two
        icon = GFX_goal_generic_production
        x = 49
        y = 6
        cost = 10
        prerequisite = {
            focus = SPR_prepare_production_reform_two
        }
        available = {
            has_idea = spain_production_debuffs_two
            NOT = {
                has_idea = spain_prepare_reform_production
            }
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            #placeholder for now
            add_political_power = 100
        }
    }
}