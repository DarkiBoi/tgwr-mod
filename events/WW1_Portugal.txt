add_namespace = ww1_portugal

####################### This first event might be used by something else?????????? I have no clue. It was here before and I'd rather keep it as not to break anything.
# When Portugal is asked to join the Central Powers
country_event = {
	id = ww1_portugal.1
	title = ww1_portugal.1.t
	desc = ww1_portugal.1.d
	picture = GFX_report_event_generic_read_write

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = ww1_portugal.1.a
		ai_chance = { factor = 100 }
		POR={ add_opinion_modifier={ target=ENG modifier=ger_tur_diplomacy_focus } if={ limit={ POR={ is_ai=yes NOT={ is_in_faction=yes } NOT={ is_subject=yes } } FRA={ is_faction_leader=yes } } FRA={ add_to_faction=POR } } if={ limit={ ENG={ has_government=fascism } } add_ideas=fascist_influence } if={ limit={ ENG={ has_government=communism } } add_ideas=communist_influence } if={ limit={ ENG={ has_government=democratic } } add_ideas=democratic_influence } country_event={ id=generic.1 } } 
	}
	option = {
		name = ww1_portugal.1.b
		ai_chance = { factor = 0 }
	}
}

## This second event also was here before, though maybe we could just have portugal start the game with a claim on angola and mozambique? idk
# ANGOLA IS LOST
###########################
country_event = {
	id = ww1_portugal.2
	hidden = yes
	trigger = {
		has_war_with = GER
		owns_state = 540
		OR = {
			has_capitulated = yes
			GER = {
				controls_state = 540
				has_completed_focus = GER_claim_mittelafrika
			}
		}
	}
	fire_only_once = yes
	immediate = {
		GER = {
			add_state_claim = 540
		}
	}
}

## PORTUGAL WINS BORDER WAR (PORTUGAL EVENT)
country_event = {
	id = ww1_portugal.3
	title = ww1_portugal.3.t
	desc = ww1_portugal.3.d
	picture = GFX_report_event_generic_read_write

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = ww1_portugal.3.a
		ai_chance = { factor = 100 }
		add_political_power = 25
		POR = { set_state_owner = 171 }
	}
}
## PORTUGAL WINS BORDER WAR (SPAIN EVENT)
country_event = {
	id = ww1_portugal.4
	title = ww1_portugal.4.t
	desc = ww1_portugal.4.d
	picture = GFX_report_event_generic_read_write

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = ww1_portugal.4.a
		ai_chance = { factor = 100 }
		add_political_power = -25
		create_wargoal = {
			type = take_core_state
			target = POR
		}
	}
}



## PORTUGAL LOSES BORDER WAR (SPAIN EVENT)
country_event = {
	id = ww1_portugal.5
	title = ww1_portugal.5.t
	desc = ww1_portugal.5.d
	picture = GFX_report_event_generic_read_write

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = ww1_portugal.5.a
		add_political_power = 25
		SPR = {
			create_wargoal = {
				type = topple_government
				target = POR
			}
		}
	}
}

## PORTUGAL LOSES BORDER WAR (PORTUGAL EVENT)
country_event = {
	id = ww1_portugal.6
	title = ww1_portugal.6.t
	desc = ww1_portugal.6.d
	picture = GFX_report_event_generic_read_write

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = ww1_portugal.6.a
		ai_chance = { factor = 100 }
		add_political_power = -25
	}
}
##BORDER WAR CANCEL???? I DONT KNOW WHAT COULD CAUSE THIS TO HAPPEN BUT W/E
country_event = {
	id = ww1_portugal.7
	title = ww1_portugal.7.t
	desc = ww1_portugal.7.d
	picture = GFX_report_event_generic_read_write

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = ww1_portugal.7.a
	}
}
## PORTUGAL CAPTURES EITHER PINK MAP OR GALIZA
country_event = {
	id = ww1_portugal.8
	title = ww1_portugal.8.t
	desc = ww1_portugal.8.d
	picture = GFX_report_event_generic_read_write

	fire_only_once = yes
	trigger = {
		AND = {
			original_tag = POR
			POR = {
				has_idea = POR_dying_empire_1
			}
			OR = {
				owns_state = 171
				AND = {
					owns_state = 545
					owns_state = 771
					owns_state = 770
				}
			}
			NOT = {
				POR = {
					has_idea = POR_revived_empire
				}
			}
		}
	}
	option = {
		name = ww1_portugal.8.a
		swap_ideas = {
			remove_idea = POR_dying_empire_1
			add_idea = POR_dying_empire_2
		}
	}
}
## PORTUGAL CLAIMS GALIZA (spanish event)
country_event = {
	id = ww1_portugal.9
	title = ww1_portugal.9.t
	desc = ww1_portugal.9.d
	picture = GFX_report_event_generic_read_write

	fire_only_once = yes
	is_triggered_only = yes
	## Just give it to them...
	option = {
		name = ww1_portugal.9.a
		ai_chance = {
			factor = 0
		}
		POR = {
			country_event = ww1_portugal.21
			set_state_owner = 171
			add_state_core = 171
			if = {
				limit = {
					NOT = {
						has_cosmetic_tag = POR_cursed
					}
				}
				set_cosmetic_tag = POR_portugaliza
			}
		}
	}
	## Payment
	option = {
		name = ww1_portugal.9.b
		ai_chance = {
			factor = 1
		}
		custom_effect_tooltip = POR_purchase_desc
		POR = {
			country_event = {
				id = ww1_portugal.10
				days = 0
				random = 2
				random_days = 0
			}
			
		}
	}
	## Fuck off dumbass
	option = {
		name = ww1_portugal.9.c
		ai_chance = {
			factor = 99
		}
	}
}
## Does portugal accept to pay for galiza?
country_event = {
	id = ww1_portugal.10
	title = ww1_portugal.10.t
	desc = ww1_portugal.10.d
	picture = GFX_report_event_generic_read_write

	fire_only_once = yes
	is_triggered_only = yes
	## YES
	option = {
		name = ww1_portugal.10.a
		ai_chance = {
			factor = 100
		}
		POR = {
			set_state_owner = 171
			add_state_core = 171
			add_ideas = { POR_payment_olivenca }
			POR = {
				set_state_owner = 171
				add_state_core = 171
				if = {
					limit = {
						NOT = {
							has_cosmetic_tag = POR_cursed
						}
					}
					set_cosmetic_tag = POR_portugaliza
				}
			}
		}
		SPR = {
			add_ideas = { POR_payment_receive }
		}
	}
	## NO
	option = {
		name = ww1_portugal.10.a
		ai_chance = {
			factor = 0
		}
	}
}
## PORTUGAL GALIZA PEACEFUL NEGOTIATION
country_event = {
	id = ww1_portugal.11
	title = ww1_portugal.11.t
	desc = ww1_portugal.11.d
	picture = GFX_report_event_generic_read_write

	fire_only_once = yes
	is_triggered_only = yes
	## Just give it to them...
	option = {
		name = ww1_portugal.11.a
		ai_chance = {
			factor = 10
		}
		POR = {
			country_event = ww1_portugal.21
			set_state_owner = 171
			add_state_core = 171
			POR = {
				set_state_owner = 171
				add_state_core = 171
				if = {
					limit = {
						NOT = {
							has_cosmetic_tag = POR_cursed
						}
					}
					set_cosmetic_tag = POR_portugaliza
				}
			}
		}
	}
	## Payment
	option = {
		name = ww1_portugal.11.b
		ai_chance = {
			factor = 60
		}
		custom_effect_tooltip = POR_purchase_desc
		POR = {
			country_event = {
				id = ww1_portugal.10
				days = 0
				random = 2
				random_days = 0
			}
		}
	}
	## Fuck off dumbass
	option = {
		name = ww1_portugal.11.c
		ai_chance = {
			factor = 30
		}
	}
}
## OWNS BRAZIL (HOW)
country_event = {
	id = ww1_portugal.12
	title = ww1_portugal.12.t
	desc = ww1_portugal.12.d
	picture = GFX_report_event_generic_read_write
	fire_only_once = yes
	trigger = {
		AND = {
			original_tag = POR
			BRA = {
				exists = no
			}
			all_state = {
				OR = {
					NOT = { is_core_of = BRA }
					is_owned_by = POR
				}
			}
			NOT = {
				POR = {
					has_idea = POR_revived_empire
				}
			}
		}
	}
	option = {
		name = ww1_portugal.12.a
		remove_ideas = { POR_dying_empire_1 POR_dying_empire_2 }
		add_ideas = { POR_revived_empire }
	}
}
##IBERIAN PACT
country_event = {
	id = ww1_portugal.13
	title = ww1_portugal.13.t
	desc = ww1_portugal.13.d
	picture = GFX_report_event_generic_read_write

	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = ww1_portugal.13.a
		ai_chance = {
			factor = 1
		}
		POR = {
			create_faction = "Iberian Pact"
			add_to_faction = SPR
		}
	}
	option = {
		name = ww1_portugal.13.b
		ai_chance = {
			factor = 0
		}
	}
}
##IBERIAN NAP
country_event = {
	id = ww1_portugal.14
	title = ww1_portugal.14.t
	desc = ww1_portugal.14.d
	picture = GFX_report_event_generic_read_write

	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = ww1_portugal.14.a
		ai_chance = {
			factor = 1
		}
		POR = {
			diplomatic_relation = {
				country = SPR
				relation = non_aggression_pact
				active = yes
			}
			diplomatic_relation = {
				country = SPR
				relation = guarantee
				active = yes
			}
		}
		SPR = {
			diplomatic_relation = {
				country = POR
				relation = non_aggression_pact
				active = yes
			}
			diplomatic_relation = {
				country = POR
				relation = guarantee
				active = yes
			}
		}
	}
	option = {
		name = ww1_portugal.14.b
		ai_chance = {
			factor = 0
		}
	}
}
## PORTUGAL CLAIMS PINK MAP (english event)
country_event = {
	id = ww1_portugal.15
	title = ww1_portugal.15.t
	desc = ww1_portugal.15.d
	picture = GFX_report_event_generic_read_write

	fire_only_once = yes
	is_triggered_only = yes
	## Just give it to them...
	option = {
		name = ww1_portugal.15.a
		ai_chance = {
			factor = 10
		}
		POR = {
			country_event = ww1_portugal.22
			set_state_owner = 771
			set_state_owner = 545
			set_state_owner = 770
		}
	}
	## Payment
	option = {
		name = ww1_portugal.15.b
		ai_chance = {
			factor = 40
		}
		custom_effect_tooltip = POR_purchase_desc
		POR = {
			country_event = {
				id = ww1_portugal.16
				days = 0
				random = 2
				random_days = 0
			}
			
		}
	}
	## Fuck off dumbass
	option = {
		name = ww1_portugal.15.c
		ai_chance = {
			factor = 50
		}
	}
}
## Does portugal accept to pay for the pink map?
country_event = {
	id = ww1_portugal.16
	title = ww1_portugal.16.t
	desc = ww1_portugal.16.d
	picture = GFX_report_event_generic_read_write

	fire_only_once = yes
	is_triggered_only = yes
	## YES
	option = {
		name = ww1_portugal.16.a
		ai_chance = {
			factor = 100
		}
		POR = {
			set_state_owner = 771
			set_state_owner = 545
			set_state_owner = 770
			add_ideas = { POR_payment_pink_map }
		}
		ENG = {
			add_ideas = { POR_payment_receive }
		}
	}
	## NO
	option = {
		name = ww1_portugal.16.b
		ai_chance = {
			factor = 0
		}
	}
}
## PORTUGAL PINK MAP PEACEFUL NEGOTIATION
country_event = {
	id = ww1_portugal.17
	title = ww1_portugal.17.t
	desc = ww1_portugal.17.d
	picture = GFX_report_event_generic_read_write

	fire_only_once = yes
	is_triggered_only = yes
	## Just give it to them...
	option = {
		name = ww1_portugal.17.a
		ai_chance = {
			factor = 35
		}
		POR = {
			country_event = ww1_portugal.21
			set_state_owner = 771
			set_state_owner = 545
			set_state_owner = 770
		}
	}
	## Payment
	option = {
		name = ww1_portugal.17.b
		ai_chance = {
			factor = 55
		}
		custom_effect_tooltip = POR_purchase_desc
		POR = {
			country_event = {
				id = ww1_portugal.16
				days = 0
				random = 2
				random_days = 0
			}
		}
	}
	## Fuck off dumbass
	option = {
		name = ww1_portugal.17.c
		ai_chance = {
			factor = 10
		}
	}
}
##PORTUGAL WANTS TO JOIN CP
country_event = {
	id = ww1_portugal.18
	title = ww1_portugal.18.t
	desc = ww1_portugal.18.d
	picture = GFX_report_event_generic_read_write

	fire_only_once = yes
	is_triggered_only = yes
	## YES
	option = {
		name = ww1_portugal.18.a
		ai_chance = {
			factor = 100
		}
		GER = { add_to_faction = POR }
	}
	## NO
	option = {
		name = ww1_portugal.18.a
		ai_chance = {
			factor = 0
		}
	}
}
##PORTUGAL WANTS TO JOIN ENTENTE
country_event = {
	id = ww1_portugal.19
	title = ww1_portugal.19.t
	desc = ww1_portugal.19.d
	picture = GFX_report_event_generic_read_write

	fire_only_once = yes
	is_triggered_only = yes
	## YES
	option = {
		name = ww1_portugal.19.a
		ai_chance = {
			factor = 100
		}
		ENG = { add_to_faction = POR }
	}
	## NO
	option = {
		name = ww1_portugal.19.a
		ai_chance = {
			factor = 0
		}
	}
}
##CURSED MARRIAGE
country_event = {
	id = ww1_portugal.20
	title = ww1_portugal.20.t
	desc = ww1_portugal.20.d
	picture = GFX_report_event_generic_read_write

	fire_only_once = yes
	is_triggered_only = yes
	## YES
	option = {
		name = ww1_portugal.20.a
		ai_chance = {
			factor = 100
		}
		POR = {
			annex_country = {
				target = ENG
				transfer_troops = yes
			}
			remove_ideas = { POR_payment_pink_map }
			set_cosmetic_tag = POR_cursed
			set_party_name = { 
				ideology = neutrality 
				long_name = POR_BRAGANZA_WINDSOR_LONG
				name = POR_BRAGANZA_WINDSOR_SHORT
			}
			set_party_name = { 
				ideology = fascism
				long_name = ENG_fascism_party
				name = ENG_fascism_party
			}
			set_party_name = { 
				ideology = communism
				long_name = ENG_communism_party
				name = ENG_communism_party
			}
			set_party_name = { 
				ideology = democratic
				long_name = ENG_democratic_party
				name = ENG_democratic_party
			}
			set_capital = 126
		}
		every_state = {
			if = {
				limit = { is_core_of = ENG }
				add_core_of = POR
			}
		}

	}
	## NO
	option = {
		name = ww1_portugal.20.a
		ai_chance = {
			factor = 0
		}
	}
}
##SPAIN GIVES GALIZA
country_event = {
	id = ww1_portugal.21
	title = ww1_portugal.21.t
	desc = ww1_portugal.21.d
	picture = GFX_report_event_generic_read_write

	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = ww1_portugal.21.a
	}
}
##UK GIVES PINK MAP
country_event = {
	id = ww1_portugal.22
	title = ww1_portugal.22.t
	desc = ww1_portugal.22.d
	picture = GFX_report_event_generic_read_write

	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = ww1_portugal.22.a
	}
}
