add_namespace = ww1_mexico
# MEXICAN REVOLUTION
#####################
country_event = {
	id = ww1_mexico.1
	title = ww1_mexico.1.t
	desc = ww1_mexico.1.d
	picture = GFX_report_event_generic_riot
	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = ww1_mexico.1.a
		add_ideas = MEX_idea_mexican_revolution
		set_global_flag = SUPER_GLOBAL_Mexican_Revolution_1910
		ai_chance = {
			factor = 100
		}
	}
}

# REBELLION AGAINST PORFORIO DIAZ
##################################
country_event = {
	id = ww1_mexico.2
	title = ww1_mexico.2.t
	desc = ww1_mexico.2.d
	picture = GFX_report_event_gathering_protest
	fire_only_once = yes
	trigger = {
		tag = MEX
		has_global_flag = mexican_revolution
		is_subject = no
	}
	mean_time_to_happen = {
		days = 2
	}
	immediate = {
	#MADERO EFFECT
	########################################
		if = {
			limit = {
				has_completed_focus = MXM_support_madero
			}
			hidden_effect = {
				MXM = { # Switch the tag alias for MXM 
					clr_country_flag = MEX_madero_flag
					drop_cosmetic_tag = yes
					set_country_flag = MEX_madero_flag
					set_cosmetic_tag = MXM
					
					set_politics = {
						ruling_party = democratic
						last_election = "1910.7.3"
						elections_allowed = yes
						election_frequency = 48
					}
					
					set_popularities = {
						democratic = 60
						neutrality = 30
						communism = 10
					}
					retire_ideology_leader = neutrality
				}
				set_country_flag = MEX_madero_flag
				set_cosmetic_tag = MXM
				if = {
					limit = {
						has_completed_focus = MXM_spread_the_plan_of_san_luis
					}
					MXM = {
						transfer_state = 480
						transfer_state = 482
						set_capital = 482
					}
				}
				MEX = {
					declare_war_on = {
					    target = MXM
					    type = civil_war
					}
					add_civil_war_target = MXM
				}
				if = {
					limit = {
						MEX = {
							every_unit_leader = {
								limit = {
									has_id = 123459
								}
							}
							set_nationality = MXM
						}
					}
				}
				if = {
					limit = {
						has_completed_focus = MXM_prepare_the_uprising
					}
					create_corps_commander = {
					name = "Pancho Villa"
					portrait_path = "gfx/leaders/MEX/MEX_pancho_villa.dds"
					traits = { logistics_wizard offensive_doctrine inspirational_leader }
					skill = 4
					id = 123467
					}
					create_corps_commander={  
						name = "Pablo González Garza"
						portrait_path = "gfx/leaders/MEX/MEX_pablo_gonzalez_garza.dds"
						traits={ brilliant_strategist trait_reckless infantry_officer } 
						skill=3
						id = 123471
						attack_skill = 4
						defense_skill = 3
						planning_skill = 2
						logistics_skill = 1
					}
					create_corps_commander={  
						name = "Lucio Blanco"
						portrait_path = "gfx/leaders/MEX/MEX_lucio_blanco.dds"
						traits={ brilliant_strategist trait_reckless infantry_officer } 
						skill=3
						id = 123476
						attack_skill = 4
						defense_skill = 3
						planning_skill = 2
						logistics_skill = 1
					}
					create_corps_commander={  
						name = "Cándido Aguilar"
						portrait_path = "gfx/leaders/MEX/MEX_candido_aguilar.dds"
						traits={ career_officer } 
						skill=2 
						id = 123468
						attack_skill = 2
						defense_skill = 2
						planning_skill = 3
						logistics_skill = 1
					}
					create_corps_commander={  
						name = "Juan G. Cabral"
						portrait_path = "gfx/leaders/MEX/MEX_juan_cabral.dds"
						traits={ career_officer } 
						skill=2 
						id = 123469
						attack_skill = 3
						defense_skill = 1
						planning_skill = 2
						logistics_skill = 1
					}
					create_corps_commander={  
						name = "Eulalio Gutierrez"
						portrait_path = "gfx/leaders/MEX/MEX_eulalio_gutierrez.dds"
						traits={ } 
						skill=2 
						id = 123471
						attack_skill = 2
						defense_skill = 1
						planning_skill = 2
						logistics_skill = 1
					}
					create_corps_commander={  
						name = "Cesáreo Castro Villareal"
						portrait_path = "gfx/leaders/MEX/MEX_cesareo_castro_villareal.dds"
						traits={ career_officer } 
						skill=2 
						id = 123472
						attack_skill = 2
						defense_skill = 2
						planning_skill = 2
						logistics_skill = 1
					}
					create_corps_commander={  
						name = "Francisco Luis Urquizo"
						portrait_path = "gfx/leaders/MEX/MEX_francisco_urquizo.dds"
						traits={ career_officer } 
						skill=2 
						id = 123473
						attack_skill = 1
						defense_skill = 3
						planning_skill = 2
						logistics_skill = 1
					}
					create_corps_commander={  
						name = "Francisco José Múgica"
						portrait_path = "gfx/leaders/MEX/MEX_francisco_jose_mugica.dds"
						traits={ career_officer urban_assault_specialist } 
						skill=2 
						id = 123474
						attack_skill = 1
						defense_skill = 3
						planning_skill = 2
						logistics_skill = 1
					}
					create_corps_commander={  
						name = "Roque González Garza"
						portrait_path = "gfx/leaders/MEX/MEX_roque_gonzalez_garza.dds"
						traits={ career_officer politically_connected } 
						skill=1
						id = 123475
						attack_skill = 2
						defense_skill = 1
						planning_skill = 1
						logistics_skill = 1
					}
					create_corps_commander={  
						name = "Salvador Alvarado" 
						traits={   } 
						skill=1 
						attack_skill = 1
						defense_skill = 2
						planning_skill = 2
						logistics_skill = 2
					}
					set_province_controller = 8003
					set_province_controller = 8033
					set_province_controller = 10871
					set_province_controller = 13214
					set_province_controller = 13241
					set_province_controller = 13242
					set_province_controller = 13251
					set_province_controller = 13252
					division_template = {
						name = "Milicia Maderista"
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
						}
					}
					480 = {
						create_unit = {
							division = "division_template = \"Milicia Maderista\" start_experience_factor = 0.2" 
							owner = MXM
							count = 4
						}
					}
					481 = {
						create_unit = {
							division = "division_template = \"Milicia Maderista\" start_experience_factor = 0.2"  
							owner = MEX
							allow_spawning_on_enemy_provs = yes
							count = 2
					}	
					}		
					482 = {
						create_unit = {
							division = "division_template = \"Milicia Maderista\" start_experience_factor = 0.2" 
							owner = MXM
							count = 6
						}
					}
					483 = {
						create_unit = {
							division = "division_template = \"Milicia Maderista\" start_experience_factor = 0.2"  
							owner = MXM
							allow_spawning_on_enemy_provs = yes
							count = 2
						}
					}
					840 = {
						create_unit = {
							division = "division_template = \"Milicia Maderista\" start_experience_factor = 0.2"  
							owner = MXM
							allow_spawning_on_enemy_provs = yes
							count = 3
						}
					}
					841 = {
						create_unit = {
							division = "division_template = \"Milicia Maderista\" start_experience_factor = 0.2" 
							owner = MXM
							allow_spawning_on_enemy_provs = yes
							count = 2
						}
					}
					load_oob = "MXM_Revolution"
				}
				if = {
					limit = {
						has_completed_focus = MXM_launch_the_revolution
					}
				}
				MXM = {
					add_war_support = 0.2 
					add_equipment_to_stockpile = {
						type = infantry_equipment
						amount = 500
						producer = USA
					}
				}
				MEX = {
					load_focus_tree = {
						tree = mexican_focus
						keep_completed = no
					}
					unlock_national_focus = MEX_the_election_of_1910
					unlock_national_focus = MEX_appoint_porfirio_diaz_as_president
					unlock_national_focus = MEX_imprison_the_maderistas
					unlock_national_focus = MEX_expand_the_federal_army
					unlock_national_focus = MEX_declare_martial_law
					retire_ideology_leader = democratic
					if = {
						limit = {
							has_country_flag = MEX_imprison_the_maderistas
						}
						add_political_power = 75
					}
					if = {
						limit = {
						has_country_flag = MEX_expand_the_federal_army
						}
						add_manpower = 10000
						add_stability = -0.0025
						add_war_support = -0.0025
						add_tech_bonus = {
							bonus = 1
							uses= 1
							category = infantry_weapons
						}
					}
					if = {
						limit = {
							has_country_flag = MEX_imprison_the_maderistas
						}
						add_political_power = 150
					}
					if = {
						limit = {
							has_country_flag = MEX_declare_martial_law_mission
						}
						set_province_controller = 2037
						set_province_controller = 7973
						set_province_controller = 8097
						set_province_controller = 10809
						set_province_controller = 12897
						division_template = {
							name = "Guarnición Estatal"
							division_names_group = 	MEX_INF_03
							regiments = {
								infantry = { x = 0 y = 0 }
								infantry = { x = 0 y = 1 }
								infantry = { x = 0 y = 2 }
								infantry = { x = 1 y = 0 }
								artillery_brigade = { x = 1 y = 1 }
								artillery_brigade = { x = 1 y = 2 }
							}
						}
						480 = {
							create_unit = {
								division = "division_template = \"Guarnición Estatal\" start_experience_factor = 0.2" 
								owner = MEX
								allow_spawning_on_enemy_provs = no
								count = 1
							}
						}
						482 = {
							create_unit = {
								division = "division_template = \"Guarnición Estatal\" start_experience_factor = 0.2" 
								owner = MEX
								allow_spawning_on_enemy_provs = no
								count = 2
							}
						}
						483 = {
							create_unit = {
								division = "division_template = \"Guarnición Estatal\" start_experience_factor = 0.2" 
								owner = MEX
								allow_spawning_on_enemy_provs = no
								count = 1
							}
						}
						840 = {
							create_unit = {
								division = "division_template = \"Guarnición Estatal\" start_experience_factor = 0.2" 
								owner = MEX
								allow_spawning_on_enemy_provs = no
								count = 1
							}
						}
						841 = {
							create_unit = {
								division = "division_template = \"Guarnición Estatal\" start_experience_factor = 0.2" 
								owner = MEX
								allow_spawning_on_enemy_provs = no
								count = 1
							}
						}
						load_oob = "MEX_Revolution"
					}
				}
				MXM = {
					remove_ideas = MEX_idea_porfiriato
					remove_ideas = MEX_idea_incompetent_army
					remove_ideas = MEX_idea_political_violence
					remove_ideas = MEX_idea_caudillo_loyalty
					add_ideas = MXM_idea_imprisoned_maderistas
					add_timed_idea = { idea = MXM_death_before_surrende days = 720 }
				}
				MEX = { 
					remove_ideas = MEX_idea_political_violence
				}
			}
		}
#PORFORIO EFFECT
################
		if = {
			limit = {
				has_completed_focus = MEX_appoint_porfirio_diaz_as_president
			}
		}
		hidden_effect = {
			start_civil_war = {
				ruling_party = neutrality
				ideology = democratic
				size = 0.1
				capital = 482
				states = { 480 482 }
				keep_unit_leaders = {
					123456 123457 123458 123461 123462 123463 123464 123465 123466 
				}
				keep_political_leader = no
				set_country_flag = MEX_madero_flag
				
			}
			MXM = {
				set_cosmetic_tag = MXM
				load_focus_tree = {
						tree = mexican_focus
						keep_completed = no
				}
				unlock_national_focus = MEX_the_election_of_1910
				unlock_national_focus = MXM_support_madero
				unlock_national_focus = MXM_spread_the_plan_of_san_luis
				unlock_national_focus = MXM_move_the_leaders
				unlock_national_focus = MXM_prepare_the_uprising
				unlock_national_focus = MXM_begin_the_revolutionary_ideals
				unlock_national_focus = MXM_launch_the_revolution
			}
			if = {
				limit = {
					has_country_flag = MXM_secure_the_revolution_preparations
				}
				MXM = {
					add_manpower = 1000
					add_equipment_to_stockpile = {
						type = infantry_equipment
						amount = 100
					}
				}
			}
			if = {
				limit = {
					has_country_flag = MEX_move_the_leaders
				}
				MXM = {
					add_stability = 0.2
				}
			}
			if = {
				limit = {
					has_country_flag = MEX_prepare_the_uprising
				}
			}
			MXM = { #ID's range from 123466 to 123476
				create_field_marshal = {
					name = "Pascual Orozco"
					portrait_path = "gfx/leaders/MEX/MEX_pascual_orozco.dds"
					traits ={ offensive_doctrine }
					skill = 2
					id = 123466
					attack_skill = 4
					defense_skill = 3
					planning_skill = 2
					logistics_skill = 1
				}
				create_corps_commander = {
					name = "Pancho Villa"
					portrait_path = "gfx/leaders/MEX/MEX_pancho_villa.dds"
					traits = { logistics_wizard offensive_doctrine inspirational_leader }
					skill = 4
					id = 123467
					}
				create_corps_commander={  
					name = "Pablo González Garza"
					portrait_path = "gfx/leaders/MEX/MEX_pablo_gonzalez_garza.dds"
					traits={ brilliant_strategist trait_reckless infantry_officer } 
					skill=3
					id = 123471
					attack_skill = 4
					defense_skill = 3
					planning_skill = 2
					logistics_skill = 1
				}
				create_corps_commander={  
					name = "Lucio Blanco"
					portrait_path = "gfx/leaders/MEX/MEX_lucio_blanco.dds"
					traits={ brilliant_strategist trait_reckless infantry_officer } 
					skill=3
					id = 123476
					attack_skill = 4
					defense_skill = 3
					planning_skill = 2
					logistics_skill = 1
				}
				create_corps_commander={  
					name = "Cándido Aguilar"
					portrait_path = "gfx/leaders/MEX/MEX_candido_aguilar.dds"
					traits={ career_officer } 
					skill=2 
					id = 123468
					attack_skill = 2
					defense_skill = 2
					planning_skill = 3
					logistics_skill = 1
				}
				create_corps_commander={  
					name = "Juan G. Cabral"
					portrait_path = "gfx/leaders/MEX/MEX_juan_cabral.dds"
					traits={ career_officer } 
					skill=2 
					id = 123469
					attack_skill = 3
					defense_skill = 1
					planning_skill = 2
					logistics_skill = 1
				}
				create_corps_commander={  
					name = "Eulalio Gutierrez"
					portrait_path = "gfx/leaders/MEX/MEX_eulalio_gutierrez.dds"
					traits={ } 
					skill=2 
					id = 123471
					attack_skill = 2
					defense_skill = 1
					planning_skill = 2
					logistics_skill = 1
				}
				create_corps_commander={  
					name = "Cesáreo Castro Villareal"
					portrait_path = "gfx/leaders/MEX/MEX_cesareo_castro_villareal.dds"
					traits={ career_officer } 
					skill=2 
					id = 123472
					attack_skill = 2
					defense_skill = 2
					planning_skill = 2
					logistics_skill = 1
				}
				create_corps_commander={  
					name = "Francisco Luis Urquizo"
					portrait_path = "gfx/leaders/MEX/MEX_francisco_urquizo.dds"
					traits={ career_officer } 
					skill=2 
					id = 123473
					attack_skill = 1
					defense_skill = 3
					planning_skill = 2
					logistics_skill = 1
					}
				create_corps_commander={  
					name = "Francisco José Múgica"
					portrait_path = "gfx/leaders/MEX/MEX_francisco_jose_mugica.dds"
					traits={ career_officer urban_assault_specialist } 
					skill=2 
					id = 123474
					attack_skill = 1
					defense_skill = 3
					planning_skill = 2
					logistics_skill = 1
				}
				create_corps_commander={  
					name = "Roque González Garza"
					portrait_path = "gfx/leaders/MEX/MEX_roque_gonzalez_garza.dds"
					traits={ career_officer politically_connected } 
					skill=1
					id = 123475
					attack_skill = 2
					defense_skill = 1
					planning_skill = 1
					logistics_skill = 1
				}
				create_corps_commander={  
					name = "Salvador Alvarado" 
					traits={   } 
					skill=1 
					attack_skill = 1
					defense_skill = 2
					planning_skill = 2
					logistics_skill = 2
				}
				division_template = {
					name = "Milicia Maderista"
					division_names_group = MXM_INF_01
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
					}
				}
				480 = {
					create_unit = {
						division = "division_template = \"Milicia Maderista\" start_experience_factor = 0.2" 
						owner = MXM
						count = 4
					}
				}
				481 = {
					create_unit = {
						division = "division_template = \"Milicia Maderista\" start_experience_factor = 0.2"  
						owner = MEX
						allow_spawning_on_enemy_provs = yes
						count = 2
					}	
				}		
				482 = {
					create_unit = {
						division = "division_template = \"Milicia Maderista\" start_experience_factor = 0.2" 
						owner = MXM
						count = 6
					}
				}
				483 = {
					create_unit = {
						division = "division_template = \"Milicia Maderista\" start_experience_factor = 0.2"  
						owner = MXM
						allow_spawning_on_enemy_provs = yes
						count = 2
					}
				}
				840 = {
					create_unit = {
						division = "division_template = \"Milicia Maderista\" start_experience_factor = 0.2"  
						owner = MXM
						allow_spawning_on_enemy_provs = yes
						count = 3
					}
				}
				841 = {
					create_unit = {
						division = "division_template = \"Milicia Maderista\" start_experience_factor = 0.2" 
						owner = MXM
						allow_spawning_on_enemy_provs = yes
						count = 2
					}
				}
			}
			if = {
				limit = {
					has_country_flag = MEX_begin_the_revolutionary_ideas
				}
			}
			MXM = {
				add_war_support = 0.3
				add_manpower = 20000
			}
			if = {
				limit = {
					has_country_flag = MEX_launch_the_revolution
				}
			}
			MXM = {
				add_war_support = 0.2 
				add_equipment_to_stockpile = {
				    type = infantry_equipment
				    amount = 500
				    producer = USA
				}
			}
			MEX = {
				if = {
					limit = {
						has_completed_focus = MEX_declare_martial_law
					}
					set_province_controller = 2037
					set_province_controller = 7973
					set_province_controller = 8097
					set_province_controller = 10809
					set_province_controller = 12897
					division_template = {
						name = "Guarnición Estatal"
						division_names_group = 	MEX_INF_04
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 1 y = 0 }
							artillery_brigade = { x = 1 y = 1 }
							artillery_brigade = { x = 1 y = 2 }
						}
					}
					480 = {
						create_unit = {
							division = "division_template = \"Guarnición Estatal\" start_experience_factor = 0.2" 
							owner = MEX
							allow_spawning_on_enemy_provs = no
							count = 1
						}
					}
					482 = {
						create_unit = {
							division = "division_template = \"Guarnición Estatal\" start_experience_factor = 0.2" 
							owner = MEX
							allow_spawning_on_enemy_provs = no
							count = 3
						}
					}
					483 = {
						create_unit = {
							division = "division_template = \"Guarnición Estatal\" start_experience_factor = 0.2" 
							owner = MEX
							allow_spawning_on_enemy_provs = no
							count = 3
						}
					}
					840 = {
						create_unit = {
							division = "division_template = \"Guarnición Estatal\" start_experience_factor = 0.2" 
							owner = MEX
							allow_spawning_on_enemy_provs = no
							count = 1
						}
					}
					841 = {
						create_unit = {
							division = "division_template = \"Guarnición Estatal\" start_experience_factor = 0.2" 
							owner = MEX
							allow_spawning_on_enemy_provs = no
							count = 1
						}
					}
				}
			}
			MXM = {
				remove_ideas = MEX_idea_porfiriato
				remove_ideas = MEX_idea_incompetent_army
				remove_ideas = MEX_idea_political_violence
				remove_ideas = MEX_idea_caudillo_loyalty
				add_ideas = MXM_idea_imprisoned_maderistas
				add_timed_idea = { idea = MXM_death_before_surrende days = 720 }
			}
			MEX = { 
				remove_ideas = MEX_idea_political_violence
			}
		}
		hidden_effect = {
			mark_focus_tree_layout_dirty = yes
		}
	}
	#SUPPORT OPPOSITION
	option = {
		name = ww1_mexico.2.a
		trigger = { has_completed_focus = MXM_support_madero }
		add_stability = -0.1
		add_named_threat = {
			threat = 5
			name = ww1_mexico.1.t
		}
		remove_ideas = MEX_idea_porfiriato
		remove_ideas = MEX_idea_incompetent_army
		remove_ideas = MEX_idea_political_violence
		set_global_flag = support_madero
		
		custom_effect_tooltip = "Viva la Revolución"
		news_event = { id = ww1_mexico.101 }
		ai_chance = {
			factor = 10
		}
		hidden_effect = {
			activate_mission = MEX_anarchist_uprising_mission
		}
	}
	#SUPPORT DIAZ
	option = {
		name = ww1_mexico.2.b
		trigger = { has_completed_focus = MEX_appoint_porfirio_diaz_as_president }
		add_stability = -0.1
		remove_ideas = MEX_idea_political_violence
		news_event = { id = ww1_mexico.101 }
		
		custom_effect_tooltip = "Muerte a los rebeldes"
		ai_chance = {
	        factor = 10
	    }
		news_event = {
			id = ww1_mexico.101
		}
		add_named_threat = {
			threat = 5
			name = ww1_mexico.1.t
		}
		set_global_flag = support_diaz
		hidden_effect = {
			activate_mission = MEX_anarchist_uprising_mission
		}
	}
}

# REVOLUTION IN MEXICO NEWS
############################
news_event = {
	id = ww1_mexico.101
	title = ww1_mexico.101.t
	desc = ww1_mexico.101.d
	picture = EVENT_hoi4tgw_mexican_revolution
	major = yes
	is_triggered_only = yes
	option = {
		name = ww1_mexico.101.a
		trigger = {
			NOT = {
				original_tag = MEX
			}
		}
		if = {
			limit = {
				has_game_rule = {
					rule = rule_superevent
					option = DEFAULT
				}
				is_ai = no
			}
			hidden_effect = {
				play_song = "SE_mex_revolution"
				set_country_flag = SE_mex_revolution
			}
		}
	}
	option = {
		name = ww1_mexico.101.b
		trigger = {
			original_tag = MEX
		}
		if = {
			limit = {
				has_game_rule = {
					rule = rule_superevent
					option = DEFAULT
				}
				is_ai = no
			}
			hidden_effect = {
				play_song = "SE_mex_revolution"
				set_country_flag = SE_mex_revolution
			}
		}
	}
}

# MADERO IS DEAD
#################
country_event = {
	id = ww1_mexico.103
	title = ww1_mexico.103.t
	desc = ww1_mexico.103.d
	picture = GFX_report_event_generic_peaceful_annexation
	fire_only_once = yes
	trigger = {
		has_global_flag = mexican_revolution
		has_global_flag = support_madero
		has_country_leader = {
			name = "Francisco Madero"
			ruling_only = yes
		}
		MEX = {
			has_civil_war = no
		}
		has_civil_war = no
		has_stability < 0.5
		date > 1913.1.1
	}
	mean_time_to_happen = {
		days = 90
	}
	option = {
		name = ww1_mexico.103.a
		add_stability = -0.1
		kill_country_leader = yes
		set_politics = {
			ruling_party = neutrality
			elections_allowed = no
		}
		create_country_leader = {
			name = "Victoriano Huerta"
			picture = "gfx/leaders/MEX/MEX_victoriano_huerta.dds"
			expire = "1935.1.1"
			ideology = despotism
			traits = {
				trait_despotism
			}
		}
		remove_ideas = MEX_idea_mexican_revolution
		drop_cosmetic_tag = yes
		hidden_effect = {
			add_popularity = {
				ideology = neutrality
				popularity = 0.5
			}
			set_global_flag = madero_is_dead
			MEX = {
				create_country_leader = {
					name = "Venustiano Carranza"
					picture = "gfx/leaders/MEX/MEX_venustiano_carranza.dds"
					expire = "1935.1.1"
					ideology = classical_liberalism
					traits = {
						trait_classical_liberalism
					}
				}
			}
		}
		ai_chance = {
			factor = 100
		}
	}
}

# CARRANZA REVOLT
#################
country_event = {
	id = ww1_mexico.3
	title = ww1_mexico.3.t
	desc = ww1_mexico.3.d
	picture = GFX_report_event_generic_peaceful_annexation
	fire_only_once = yes
	trigger = {
		tag = MEX
		has_country_leader = {
			name = "Victoriano Huerta"
			ruling_only = yes
		}
		has_stability < 0.5
		has_civil_war = no
		is_subject = no
	}
	mean_time_to_happen = {
		days = 120
	}
	#SUPPORT CARRANZA
	option = {
		name = ww1_mexico.3.a
		add_stability = -0.1
		set_politics = {
			ruling_party = democratic
			elections_allowed = yes
			election_frequency = 48
		}
		start_civil_war = {
			ruling_party = democratic
			ideology = neutrality
			size = 0.3
			capital = 478
			states = {
				478
				479
				485
				480
			}
		}
		hidden_effect = {
			set_global_flag = support_carranza
			add_popularity = {
				ideology = democratic
				popularity = 0.5
			}
			add_popularity = {
				ideology = communism
				popularity = 0.1
			}
			random_other_country = {
				limit = {
					original_tag = MEX
					has_government = neutrality
				}
				set_cosmetic_tag = MEX_opposition
				add_popularity = {
					ideology = democratic
					popularity = 0.03
				}
				add_popularity = {
					ideology = communism
					popularity = 0.01
				}
				create_country_leader = {
					name = "Victoriano Huerta"
					picture = "gfx/leaders/MEX/MEX_victoriano_huerta.dds"
					expire = "1935.1.1"
					ideology = despotism
					traits = {
						trait_despotism
					}
				}
			}
		}
		ai_chance = {
			factor = 100
		}
	}
	#SUPPORT HUERTA
	option = {
		name = ww1_mexico.3.b
		start_civil_war = {
			ruling_party = neutrality
			ideology = democratic
			size = 0.7
			capital = 478
			states = {
				478
				479
				485
				480
			}
		}
		hidden_effect = {
			add_stability = -0.1
			set_global_flag = support_huerta
			set_cosmetic_tag = MEX_opposition
			random_other_country = {
				limit = {
					original_tag = MEX
					has_government = democratic
				}
				set_cosmetic_tag = MEX_original
				add_popularity = {
					ideology = communism
					popularity = 0.03
				}
				add_popularity = {
					ideology = neutrality
					popularity = 0.01
				}
				create_country_leader = {
					name = "Venustiano Carranza"
					picture = "gfx/leaders/MEX/MEX_venustiano_carranza.dds"
					expire = "1935.1.1"
					ideology = classical_liberalism
					traits = {
						trait_classical_liberalism
					}
				}
			}
		}
		ai_chance = {
			factor = 0
		}
	}
}

# CIVIL WAR
#################
country_event = {
	id = ww1_mexico.4
	title = ww1_mexico.4.t
	desc = ww1_mexico.4.d
	picture = GFX_report_event_generic_riot
	fire_only_once = yes
	trigger = {
		tag = MEX
		has_country_leader = {
			name = "Venustiano Carranza"
			ruling_only = yes
		}
		has_stability < 0.5
		has_civil_war = no
		is_subject = no
	}
	mean_time_to_happen = {
		days = 90
	}
	#SUPPORT CARRANZA
	option = {
		name = ww1_mexico.4.a
		add_stability = -0.1
		start_civil_war = {
			ruling_party = democratic
			ideology = communism
			size = 0.4
			capital = 482
			states = {
				482
				481
				485
				480
			}
		}
		hidden_effect = {
			set_global_flag = mexican_civil_war
			drop_cosmetic_tag = yes
			division_template = {
				name = "Constitutionalist Regiment"
				regiments = {
					infantry = {
						x = 0
						y = 0
					}
					infantry = {
						x = 0
						y = 1
					}
					infantry = {
						x = 0
						y = 2
					}
					infantry = {
						x = 0
						y = 3
					}
				}
				support = {
					engineer = {
						x = 0
						y = 0
					}
				}
			}
			277 = {
				create_unit = {
					division = "name = \"1. Regimiento\" division_template = \"Constitutionalist Regiment\" start_experience_factor = 0.1"
					owner = MEX
				}
				create_unit = {
					division = "name = \"2. Regimiento\" division_template = \"Constitutionalist Regiment\" start_experience_factor = 0.1"
					owner = MEX
				}
				create_unit = {
					division = "name = \"3. Regimiento\" division_template = \"Constitutionalist Regiment\" start_experience_factor = 0.1"
					owner = MEX
				}
				create_unit = {
					division = "name = \"4. Regimiento\" division_template = \"Constitutionalist Regiment\" start_experience_factor = 0.1"
					owner = MEX
				}
				create_unit = {
					division = "name = \"5. Regimiento\" division_template = \"Constitutionalist Regiment\" start_experience_factor = 0.1"
					owner = MEX
				}
				create_unit = {
					division = "name = \"6. Regimiento\" division_template = \"Constitutionalist Regiment\" start_experience_factor = 0.1"
					owner = MEX
				}
				create_unit = {
					division = "name = \"7. Regimiento\" division_template = \"Constitutionalist Regiment\" start_experience_factor = 0.1"
					owner = MEX
				}
				create_unit = {
					division = "name = \"8. Regimiento\" division_template = \"Constitutionalist Regiment\" start_experience_factor = 0.1"
					owner = MEX
				}
				create_unit = {
					division = "name = \"9. Regimiento\" division_template = \"Constitutionalist Regiment\" start_experience_factor = 0.1"
					owner = MEX
				}
				create_unit = {
					division = "name = \"10. Regimiento\" division_template = \"Constitutionalist Regiment\" start_experience_factor = 0.1"
					owner = MEX
				}
			}
			random_other_country = {
				limit = {
					original_tag = MEX
					has_government = communism
				}
				set_cosmetic_tag = MEX_opposition
				add_popularity = {
					ideology = neutrality
					popularity = 0.1
				}
				add_popularity = {
					ideology = democratic
					popularity = 0.1
				}
				division_template = {
					name = "Peasant Regiment"
					regiments = {
						infantry = {
							x = 0
							y = 0
						}
						infantry = {
							x = 0
							y = 1
						}
						infantry = {
							x = 0
							y = 2
						}
						infantry = {
							x = 0
							y = 3
						}
					}
				}
				482 = {
					create_unit = {
						division = "name = \"1. Regimiento de Campesino\" division_template = \"Peasant Regiment\" start_experience_factor = 0"
						owner = PREV
					}
					create_unit = {
						division = "name = \"2. Regimiento de Campesino\" division_template = \"Peasant Regiment\" start_experience_factor = 0"
						owner = PREV
					}
					create_unit = {
						division = "name = \"3. Regimiento de Campesino\" division_template = \"Peasant Regiment\" start_experience_factor = 0"
						owner = PREV
					}
					create_unit = {
						division = "name = \"4. Regimiento de Campesino\" division_template = \"Peasant Regiment\" start_experience_factor = 0"
						owner = PREV
					}
					create_unit = {
						division = "name = \"5. Regimiento de Campesino\" division_template = \"Peasant Regiment\" start_experience_factor = 0"
						owner = PREV
					}
				}
				485 = {
					create_unit = {
						division = "name = \"6. Regimiento de Campesino\" division_template = \"Peasant Regiment\" start_experience_factor = 0"
						owner = PREV
					}
					create_unit = {
						division = "name = \"7. Regimiento de Campesino\" division_template = \"Peasant Regiment\" start_experience_factor = 0"
						owner = PREV
					}
					create_unit = {
						division = "name = \"8. Regimiento de Campesino\" division_template = \"Peasant Regiment\" start_experience_factor = 0"
						owner = PREV
					}
				}
			}
		}
		ai_chance = {
			factor = 100
		}
	}
	#SUPPORT ZAPATA
	option = {
		name = ww1_mexico.4.b
		set_politics = {
			ruling_party = communism
			elections_allowed = yes
			election_frequency = 48
		}
		set_capital = 482
		start_civil_war = {
			ruling_party = communism
			ideology = democratic
			size = 0.6
			capital = 277
			states = {
				277
				479
				487
				477
				476
				475
				474
				483
				484
				478
			}
		}
		set_cosmetic_tag = MEX_opposition
		hidden_effect = {
			set_global_flag = mexican_civil_war
			division_template = {
				name = "Peasant Regiment"
				regiments = {
					infantry = {
						x = 0
						y = 0
					}
					infantry = {
						x = 0
						y = 1
					}
					infantry = {
						x = 0
						y = 2
					}
					infantry = {
						x = 0
						y = 3
					}
				}
			}
			482 = {
				create_unit = {
					division = "name = \"1. Regimiento de Campesino\" division_template = \"Peasant Regiment\" start_experience_factor = 0"
					owner = MEX
				}
				create_unit = {
					division = "name = \"2. Regimiento de Campesino\" division_template = \"Peasant Regiment\" start_experience_factor = 0"
					owner = MEX
				}
				create_unit = {
					division = "name = \"3. Regimiento de Campesino\" division_template = \"Peasant Regiment\" start_experience_factor = 0"
					owner = MEX
				}
				create_unit = {
					division = "name = \"4. Regimiento de Campesino\" division_template = \"Peasant Regiment\" start_experience_factor = 0"
					owner = MEX
				}
				create_unit = {
					division = "name = \"5. Regimiento de Campesino\" division_template = \"Peasant Regiment\" start_experience_factor = 0"
					owner = MEX
				}
			}
			485 = {
				create_unit = {
					division = "name = \"6. Regimiento de Campesino\" division_template = \"Peasant Regiment\" start_experience_factor = 0"
					owner = MEX
				}
				create_unit = {
					division = "name = \"7. Regimiento de Campesino\" division_template = \"Peasant Regiment\" start_experience_factor = 0"
					owner = MEX
				}
				create_unit = {
					division = "name = \"8. Regimiento de Campesino\" division_template = \"Peasant Regiment\" start_experience_factor = 0"
					owner = MEX
				}
			}
			add_popularity = {
				ideology = communism
				popularity = 0.5
			}
			random_other_country = {
				limit = {
					original_tag = MEX
					has_government = democratic
				}
				set_cosmetic_tag = MEX_original
				add_popularity = {
					ideology = communism
					popularity = 0.03
				}
				add_popularity = {
					ideology = neutrality
					popularity = 0.01
				}
				create_country_leader = {
					name = "Venustiano Carranza"
					picture = "gfx/leaders/MEX/MEX_venustiano_carranza.dds"
					expire = "1935.1.1"
					ideology = classical_liberalism
					traits = {
						trait_classical_liberalism
					}
				}
				division_template = {
					name = "Constitutionalist Regiment"
					regiments = {
						infantry = {
							x = 0
							y = 0
						}
						infantry = {
							x = 0
							y = 1
						}
						infantry = {
							x = 0
							y = 2
						}
						infantry = {
							x = 0
							y = 3
						}
					}
					support = {
						engineer = {
							x = 0
							y = 0
						}
					}
				}
				277 = {
					create_unit = {
						division = "name = \"1. Regimiento\" division_template = \"Constitutionalist Regiment\" start_experience_factor = 0.1"
						owner = PREV
					}
					create_unit = {
						division = "name = \"2. Regimiento\" division_template = \"Constitutionalist Regiment\" start_experience_factor = 0.1"
						owner = PREV
					}
					create_unit = {
						division = "name = \"3. Regimiento\" division_template = \"Constitutionalist Regiment\" start_experience_factor = 0.1"
						owner = PREV
					}
					create_unit = {
						division = "name = \"4. Regimiento\" division_template = \"Constitutionalist Regiment\" start_experience_factor = 0.1"
						owner = PREV
					}
					create_unit = {
						division = "name = \"5. Regimiento\" division_template = \"Constitutionalist Regiment\" start_experience_factor = 0.1"
						owner = PREV
					}
					create_unit = {
						division = "name = \"6. Regimiento\" division_template = \"Constitutionalist Regiment\" start_experience_factor = 0.1"
						owner = PREV
					}
					create_unit = {
						division = "name = \"7. Regimiento\" division_template = \"Constitutionalist Regiment\" start_experience_factor = 0.1"
						owner = PREV
					}
					create_unit = {
						division = "name = \"8. Regimiento\" division_template = \"Constitutionalist Regiment\" start_experience_factor = 0.1"
						owner = MEX
					}
					create_unit = {
						division = "name = \"9. Regimiento\" division_template = \"Constitutionalist Regiment\" start_experience_factor = 0.1"
						owner = MEX
					}
					create_unit = {
						division = "name = \"10. Regimiento\" division_template = \"Constitutionalist Regiment\" start_experience_factor = 0.1"
						owner = MEX
					}
				}
			}
		}
		ai_chance = {
			factor = 0
		}
	}
}

# DIAZ IS DEAD
#################
country_event = {
	id = ww1_mexico.5
	title = ww1_mexico.5.t
	desc = ww1_mexico.5.d
	picture = GFX_report_event_generic_funeral
	fire_only_once = yes
	trigger = {
		tag = MEX
		has_country_leader = {
			name = "Porfirio Díaz"
			ruling_only = yes
		}
		date > 1915.7.1
		has_civil_war = no
	}
	mean_time_to_happen = {
		days = 5
	}
	#SUPPORT CARRANZA
	option = {
		name = ww1_mexico.5.a
		kill_ideology_leader = neutrality
		create_country_leader = {
			name = "Victoriano Huerta"
			picture = "gfx/leaders/MEX/MEX_victoriano_huerta.dds"
			expire = "1935.1.1"
			ideology = despotism
			traits = {
				trait_despotism
			}
		}
		ai_chance = {
			factor = 100
		}
	}
}

# CARRANZA IS DEAD
#################
country_event = {
	id = ww1_mexico.6
	title = ww1_mexico.6.t
	desc = ww1_mexico.6.d
	picture = GFX_report_event_gathering_protest
	fire_only_once = yes
	trigger = {
		tag = MEX
		has_country_leader = {
			name = "Venustiano Carranza"
			ruling_only = yes
		}
		date > 1920.5.1
		has_civil_war = no
	}
	mean_time_to_happen = {
		days = 30
	}
	option = {
		name = ww1_mexico.6.a
		kill_country_leader = yes
		create_country_leader = {
			name = "Álvaro Obregón"
			picture = "gfx/leaders/MEX/MEX_alvaro_obregon.dds"
			expire = "1935.1.1"
			ideology = socialism
			traits = {
				trait_socialism
			}
		}
		drop_cosmetic_tag = yes
		ai_chance = {
			factor = 100
		}
	}
}

# BORDER WAR WON
#################
country_event = {
	id = ww1_mexico.7
	title = ww1_mexico.7.t
	desc = ww1_mexico.7.d
	picture = GFX_report_event_generic_peaceful_annexation
	is_triggered_only = yes
	option = {
		name = ww1_mexico.7.a
		trigger = {
			tag = MEX
		}
		MEX = {
			clr_country_flag = mexican_border_conflict_activate
			add_stability = 0.05
			add_tech_bonus = {
				name = MEX_border_conflict_won
				category = land_doctrine
				bonus = 0.5
			}
		}
		ai_chance = {
			factor = 100
		}
	}
	option = {
		name = ww1_mexico.7.b
		trigger = {
			tag = USA
		}
		USA = {
			add_war_support = -0.04
			add_stability = -0.02
		}
		ai_chance = {
			factor = 100
		}
	}
}

# BORDER WAR LOST
#################
country_event = {
	id = ww1_mexico.8
	title = ww1_mexico.8.t
	desc = ww1_mexico.8.d
	picture = GFX_report_event_generic_peaceful_annexation
	is_triggered_only = yes
	option = {
		name = ww1_mexico.8.a
		trigger = {
			tag = MEX
		}
		MEX = {
			add_war_support = -0.04
			add_stability = -0.02
		}
		ai_chance = {
			factor = 100
		}
	}
	option = {
		name = ww1_mexico.8.b
		trigger = {
			tag = USA
		}
		USA = {
			add_war_support = 0.05
			add_tech_bonus = {
				name = MEX_border_conflict_won
				category = land_doctrine
				bonus = 0.5
			}
		}
		ai_chance = {
			factor = 100
		}
	}
}

# BORDER WAR CANCELLED
#################
country_event = {
	id = ww1_mexico.9
	title = ww1_mexico.9.t
	desc = ww1_mexico.9.d
	picture = GFX_report_event_generic_peaceful_annexation
	is_triggered_only = yes
	option = {
		name = ww1_mexico.9.a
		trigger = {
			tag = MEX
		}
		ai_chance = {
			factor = 100
		}
	}
	option = {
		name = ww1_mexico.9.b
		trigger = {
			tag = USA
		}
		ai_chance = {
			factor = 100
		}
	}
}
# THE ELECTION OF 1910
#################
country_event = {
	id = ww1_mexico.11
	title = ww1_mexico.11.t
	desc = ww1_mexico.11.d
	picture = GFX_report_event_election_vote
	
	is_triggered_only = yes
	
	#Support Madero
	option = {
		name = ww1_mexico.11.a
		trigger = {
			NOT = {
				has_completed_focus = MEX_appoint_porfirio_diaz_as_president
			}
		}
		add_popularity = {
			ideology = democratic
			popularity = 0.1
		}
		if = {
			limit = {
				NOT = {
					has_completed_focus = MXM_support_madero
				}
			}
			complete_national_focus = MXM_support_madero
			add_political_power = -35
			set_country_flag = MEX_1910_election
			hidden_effect = {
				activate_mission = MEX_imprison_the_maderistas_mission
				activate_mission = MEX_centennial_independence_celebrations_mission
				add_ideas = MEX_idea_political_violence
				add_ideas = MEX_idea_caudillo_loyalty
			}
		}
	}
	#Support Porfirio
	option = {
		name = ww1_mexico.11.b
		trigger = {
			NOT = {
				has_completed_focus = MXM_support_madero
			}
		}
		add_popularity = {
			ideology = democratic
			popularity = 0.1
		}
		add_political_power = -35
		if = {
			limit = {
				NOT = {
					has_completed_focus = MEX_appoint_porfirio_diaz_as_president
				}
			}
			complete_national_focus = MEX_appoint_porfirio_diaz_as_president
			add_political_power = -63
			set_country_flag = MEX_1910_election
			hidden_effect = {
				activate_mission = MXM_spread_the_plan_of_san_luis_mission
				activate_mission = MEX_centennial_independence_celebrations_mission
				add_ideas = MEX_idea_political_violence
				add_ideas = MEX_idea_caudillo_loyalty
			}
		}
	}
}
#Celebration of the Centenario de la Independencia (Centennial of Independence)kekw
################################################################################
country_event = {
	id = ww1_mexico.12
	title = ww1_mexico.12.t
	desc = ww1_mexico.12.d
	picture = GFX_report_event_mex_centenario
	fire_only_once = yes
	trigger = {
		tag = MEX
		date > 1910.15.09
		NOT = {
			has_country_flag = MEX_centenario
		}
	}
	
	option ={
		name = ww1_mexico.12.a
		trigger = { tag = MEX }
		ai_chance = { factor = 100 }
		add_stability = 0.1
		set_country_flag = MEX_centenario
	}
}
#Baja Californian Rebellion
###########################
country_event = {
	id = ww1_mexico.13
	title = ww1_mexico.13.t
	desc = ww1_mexico.13.d
	picture = GFX_report_event_mex_baja_rebellion
	fire_only_once = yes
	is_triggered_only = yes
	
	option ={
		name = ww1_mexico.13.a
		trigger = { tag = MEX }
		start_civil_war = {
			ruling_party = neutrality
			ideology = communism
			capital = 484
			states = { 484 }
			keep_unit_leaders = { 123456 123457 123458 123459 123461 123462 123463 123464 123465 123466 }
			set_country_flag = MEX_magon_flag
		}
		custom_effect_tooltip = "Death to Anarchism"
		add_stability = -0.1
		add_named_threat = {
			threat = 5
			name = ww1_mexico.1.t
		}
		remove_ideas = MEX_idea_porfiriato
		remove_ideas = MEX_idea_incompetent_army
		remove_ideas = MEX_idea_political_violence
		ai_chance = { factor = 100 }
		hidden_effect = {
			BJC = {
				drop_cosmetic_tag = yes
				set_cosmetic_tag = BJC
				load_focus_tree = {
					tree = baja_focus
					keep_completed = no
				}
			}
			BJC = {
				transfer_state = 484
				set_capital = 484
			}
			BJC = { #ID ranges from 123477 to 123481
				create_corps_commander={  
					name = "Car Ap Rhys Price"
					portrait_path = "gfx/leaders/MEX/BJC_car_ap_rhys_price.dds"
					traits={  } 
					skill=2 
					id = 123477
					attack_skill = 1
					defense_skill = 2	
					planning_skill = 2
					logistics_skill = 1
				}
				create_corps_commander={  
					name = "John R. Mosby"
					portrait_path = "gfx/leaders/MEX/BJC_john_r_mosby.dds"
					traits={  } 
					skill=1 
					id = 123478
					attack_skill = 1
					defense_skill = 1	
					planning_skill = 1
					logistics_skill = 1
				}
				create_corps_commander={  
					name = "Jose María Leyva"
					portrait_path = "gfx/leaders/MEX/BJC_jose_maria_leyba.dds"
					traits={  } 
					skill=1 
					id = 123479
					attack_skill = 1
					defense_skill = 1	
					planning_skill = 1
					logistics_skill = 1
				}
				create_corps_commander={  
					name = "Simon Berthold"
					portrait_path = "gfx/leaders/MEX/BJC_simon_berthold.dds"
					traits={ trait_reckless } 
					skill=2 
					id = 123481
					attack_skill = 2
					defense_skill = 1	
					planning_skill = 1
					logistics_skill = 1
				}
				division_template = {
					name = "Milicia Anarquista"
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
					}
				}
				484 = {
					create_unit = {
						division = "division_template = \"Milicia Anarquista\" start_experience_factor = 0.2" 
						owner = BJC
						count = 4
					}
				}
				load_oob = "BJC_Uprising"
			}
			MEX = {
				set_province_controller = 7964
				set_province_controller = 1904
				set_province_controller = 8119
				set_province_controller = 12736
				484 = {
					create_unit = {
						division = "division_template = \"Guarnición Estatal\" start_experience_factor = 0.2" 
						owner = MEX
						count = 1
					}
				}
				load_oob = "MEX_Revolution_baja"
			}
		}
	}
	
	option = {
		name = ww1_mexico.13.b
		trigger = { tag = MEX }
		custom_effect_tooltip = "Viva La Rebelión"
			hidden_effect = {
				BJC = { # Switch the tag alias for BJC 
					clr_country_flag = MEX_magon_flag
					drop_cosmetic_tag = yes
					set_country_flag = MEX_magon_flag
					set_cosmetic_tag = BJC
							
					set_politics = {
						ruling_party = communism
						last_election = "1910.7.3"
						elections_allowed = no
						election_frequency = 48
					}
						
					set_popularities = {
						democratic = 30
						neutrality = 10
						communism = 60
					}
				}
				set_country_flag = MEX_magon_flag
				set_cosmetic_tag = BJC
				BJC = {
					transfer_state = 484
					set_capital = 484
				}
				
				MEX = {
					declare_war_on = {
						target = BJC
						type = civil_war
					}
					add_civil_war_target = BJC
				}
				BJC = { #ID ranges from 123477 to 123481
					create_corps_commander={  
						name = "Car Ap Rhys Price"
						portrait_path = "gfx/leaders/MEX/BJC_car_ap_rhys_price.dds"
						traits={  } 
						skill=2 
						id = 123477
						attack_skill = 1
						defense_skill = 2	
						planning_skill = 2
						logistics_skill = 1
					}
					create_corps_commander={  
						name = "John R. Mosby"
						portrait_path = "gfx/leaders/MEX/BJC_john_r_mosby.dds"
						traits={  } 
						skill=1 
						id = 123478
						attack_skill = 1
						defense_skill = 1	
						planning_skill = 1
						logistics_skill = 1
					}
					create_corps_commander={  
						name = "Jose María Leyva"
						portrait_path = "gfx/leaders/MEX/BJC_jose_maria_leyba.dds"
						traits={  } 
						skill=1 
						id = 123479
						attack_skill = 1
						defense_skill = 1	
						planning_skill = 1
						logistics_skill = 1
					}
					create_corps_commander={  
						name = "Simon Berthold"
						portrait_path = "gfx/leaders/MEX/BJC_simon_berthold.dds"
						traits={ trait_reckless } 
						skill=2 
						id = 123479
						attack_skill = 2
						defense_skill = 1	
						planning_skill = 1
						logistics_skill = 1
					}
					division_template = {
						name = "Milicia Anarquista"
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
						}
					}
					484 = {
						create_unit = {
							division = "division_template = \"Milicia Anarquista\" start_experience_factor = 0.2" 
							owner = BJC
							count = 4
						}
					}
					load_oob = "BJC_Uprising"
				}
				MEX = {
					set_province_controller = 7964
					set_province_controller = 1904
					set_province_controller = 8119
					set_province_controller = 12736
					484 = {
						create_unit = {
							division = "division_template = \"Guarnición Estatal\" start_experience_factor = 0.2" 
							owner = MEX
							count = 1
						}
					}
					load_oob = "MEX_Revolution_baja"
				}
			}
		add_stability = -0.1
		add_named_threat = {
			threat = 5
			name = ww1_mexico.13.t
		}
		remove_ideas = MEX_idea_porfiriato
		remove_ideas = MEX_idea_incompetent_army
		remove_ideas = MEX_idea_political_violence
	}
}

#Zapata's Revolt
################

#French Aid
########################
country_event = {
	id = ww1_mexico.15
	title = ww1_mexico.15.t
	desc = ww1_mexico.15.d
	fire_only_once = yes
	is_triggered_only = yes
	
	picture = GFX_report_event_generic_army

	option = {
		name = ww1_mexico.15.a
		
		trigger = {
			NOT = {
				has_war_with = MEX
			}
		}
		
		effect_tooltip = {
			add_opinion_modifier = {
				target = MEX
				modifier = HOI4TGW_Opinion_FRA_aid_in_mexico
			}
			
			MEX = {
				add_opinion_modifier = {
					target = ROOT
					modifier = HOI4TGW_Opinion_FRA_aid_in_mexico
				}
			}
		
			
			if = {
				limit = {
					has_tech = improved_infantry_weapons
				}
				create_production_license = {
					target = MEX
					equipment = {
						type = infantry_equipment_2
					}
					cost_factor = 0
				}
			}
			if = {
				limit = {
					has_tech = infantry_weapons1
					NOT = { has_tech = improved_infantry_weapons }
				}
				create_production_license = {
					target = MEX
					equipment = {
						type = infantry_equipment_1
					}
					cost_factor = 0
				}
			}
			if = {
				limit = {
					has_tech = infantry_weapons
					NOT = { has_tech = infantry_weapons1 }
				}
				create_production_license = {
					target = MEX
					equipment = {
						type = infantry_equipment_0
					}
					cost_factor = 0
				}
			}
			MEX = {
				add_tech_bonus = {
					name = infantry_weapons
					bonus = 1.0
					uses = 1
					category = infantry_weapons
				}
			}
		}
		
		
		hidden_effect = {
			MEX = {
				country_event = {
					days = 1
					id = ww1_mexico.15
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 200
					producer = FRA
				}
			}
			set_global_flag = FRA_MEX_deal_accepted
		}
			
		ai_chance = {
			factor = 50
			
			modifier = {
				factor = 2.0
				has_government = FROM
			}

			modifier = {
				factor = 2.0
				FROM = {
					is_in_faction = no
				}
			}
		}
	
	}
	option = {
		name = ww1_mexico.15.b
		
		MEX = {
			country_event = {
				days = 1
				id = ww1_mexico.16
			}
		}
		
		ai_chance = {
			factor = 50
			
			modifier = {
				factor = 0
				FROM = {
					is_in_faction_with = ROOT
				}
			}

			modifier = {
				factor = 2.0
				FROM = {
					is_enemy_ideology = yes
				}
			}

			modifier = {
				factor = 2.0
				FROM = {
					is_in_faction_with = USA
				}
			}
			
			modifier = {
				factor = 2.0
				FROM = {
					is_in_faction_with = ENG
				}
			}
			
			modifier = {
				factor = 2.0
				FROM = {
					is_in_faction_with = GER
				}
			}
		}
	}
}

#Mexico is informed that france accepted
########################################
country_event = {
	id = ww1_mexico.16
	title = mexico.16.t
	desc = ww1_mexico.16.d
	
	picture = GFX_report_event_generic_army	
	
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = ww1_mexico.16.a
		
		add_opinion_modifier = {
			target = FRA
			modifier = HOI4TGW_Opinion_FRA_aid_in_mexico
		}
	
		FRA = {
			add_opinion_modifier = {
				target = ROOT
				modifier = HOI4TGW_Opinion_FRA_aid_in_mexico
			}
			if = {
				limit = {
					has_tech = improved_infantry_weapons
				}
				create_production_license = {
					target = MEX
					equipment = {
						type = infantry_equipment_2
					}
					cost_factor = 0
				}
			}
			if = {
				limit = {
					has_tech = infantry_weapons1
					NOT = { has_tech = improved_infantry_weapons }
				}
				create_production_license = {
					target = MEX
					equipment = {
						type = infantry_equipment_1
					}
					cost_factor = 0
				}
			}
			if = {
				limit = {
					has_tech = infantry_weapons
					NOT = { has_tech = infantry_weapons1 }
				}
				create_production_license = {
					target = MEX
					equipment = {
					type = infantry_equipment_0
				}
				cost_factor = 0
				}
			}
			MEX = {
				add_tech_bonus = {
					name = infantry_weapons
					bonus = 1.0
					uses = 1
					category = infantry_weapons
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 200
					producer = FRA
				}
			}
		}
		set_global_flag = FRA_MEX_deal_accepted
	}
}

#Mexico is informed that france rejected
########################################
country_event = {
	id = ww1_mexico.17
	title = mexico.17.t
	desc = ww1_mexico.17.d
	
	picture = GFX_report_event_generic_army	
	
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = ww1_mexico.17.a
	}
}

#German Aid
########################
country_event = {
	id = ww1_mexico.18
	title = ww1_mexico.18.t
	desc = ww1_mexico.18.d
	fire_only_once = yes
	is_triggered_only = yes
	
	picture = GFX_report_event_german_troops

	option = {
		name = ww1_mexico.18.a
		
		trigger = {
			NOT = {
				has_war_with = MEX
			}
		}
		
		effect_tooltip = {
			add_opinion_modifier = {
				target = MEX
				modifier = HOI4TGW_Opinion_GER_aid_in_mexico
			}
			
			MEX = {
				add_opinion_modifier = {
					target = ROOT
					modifier = HOI4TGW_Opinion_GER_aid_in_mexico
				}
			}
		
			
			if = {
				limit = {
					has_tech = improved_infantry_weapons
				}
				create_production_license = {
					target = MEX
					equipment = {
						type = infantry_equipment_2
					}
					cost_factor = 0
				}
			}
			if = {
				limit = {
					has_tech = infantry_weapons1
					NOT = { has_tech = improved_infantry_weapons }
				}
				create_production_license = {
					target = MEX
					equipment = {
						type = infantry_equipment_1
					}
					cost_factor = 0
				}
			}
			if = {
				limit = {
					has_tech = infantry_weapons
					NOT = { has_tech = infantry_weapons1 }
				}
				create_production_license = {
					target = MEX
					equipment = {
						type = infantry_equipment_0
					}
					cost_factor = 0
				}
			}
			MEX = {
				add_tech_bonus = {
					name = infantry_weapons
					bonus = 1.0
					uses = 1
					category = infantry_weapons
				}
			}
		}
		
		
		hidden_effect = {
			MEX = {
				country_event = {
					days = 1
					id = ww1_mexico.19
				}
			}
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 200
				producer = GER
			}
			set_global_flag = GER_MEX_deal_accepted
		}
			
		ai_chance = {
			factor = 50
			
			modifier = {
				factor = 2.0
				has_government = FROM
			}

			modifier = {
				factor = 2.0
				FROM = {
					is_in_faction = no
				}
			}
		}
	
	}
	option = {
		name = ww1_mexico.18.b
		
		MEX = {
			country_event = {
				days = 1
				id = ww1_mexico.20
			}
		}
		
		ai_chance = {
			factor = 50
			
			modifier = {
				factor = 0
				FROM = {
					is_in_faction_with = ROOT
				}
			}

			modifier = {
				factor = 2.0
				FROM = {
					is_enemy_ideology = yes
				}
			}

			modifier = {
				factor = 2.0
				FROM = {
					is_in_faction_with = USA
				}
			}
			
			modifier = {
				factor = 2.0
				FROM = {
					is_in_faction_with = ENG
				}
			}
			
			modifier = {
				factor = 2.0
				FROM = {
					is_in_faction_with = FRA
				}
			}
		}
	}
}

#Mexico is informed that germany accepted
########################################
country_event = {
	id = ww1_mexico.19
	title = mexico.19.t
	desc = ww1_mexico.19.d
	
	picture = GFX_report_event_german_troops
	
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = ww1_mexico.19.a
		
		add_opinion_modifier = {
			target = GER
			modifier = HOI4TGW_Opinion_GER_aid_in_mexico
		}
	
		GER = {
			add_opinion_modifier = {
				target = ROOT
				modifier = HOI4TGW_Opinion_GER_aid_in_mexico
			}
			if = {
				limit = {
					has_tech = improved_infantry_weapons
				}
				create_production_license = {
					target = MEX
					equipment = {
						type = infantry_equipment_2
					}
					cost_factor = 0
				}
			}
			if = {
				limit = {
					has_tech = infantry_weapons1
					NOT = { has_tech = improved_infantry_weapons }
				}
				create_production_license = {
					target = MEX
					equipment = {
						type = infantry_equipment_1
					}
					cost_factor = 0
				}
			}
			if = {
				limit = {
					has_tech = infantry_weapons
					NOT = { has_tech = infantry_weapons1 }
				}
				create_production_license = {
					target = MEX
					equipment = {
					type = infantry_equipment_0
				}
				cost_factor = 0
				}
			}
			MEX = {
				add_tech_bonus = {
					name = infantry_weapons
					bonus = 1.0
					uses = 1
					category = infantry_weapons
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 200
					producer = GER
				}
			}
		}
		set_global_flag = GER_MEX_deal_accepted
	}
}

#Mexico is informed that germany rejected
########################################
country_event = {
	id = ww1_mexico.20
	title = mexico.20.t
	desc = ww1_mexico.20.d
	
	picture = GFX_report_event_german_troops
	
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = ww1_mexico.20.a
	}
}
